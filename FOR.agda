----------------------------------------------------------------------------------------------------

-- first-order renamings

module FOR {ğ“} {X : Set ğ“} where

open import DBI public


----------------------------------------------------------------------------------------------------

infix 3 _âŠ‘_
data _âŠ‘_ : Tsil X â†’ Tsil X â†’ Set ğ“ where
  âˆ™   : âˆ€ {Î“} â†’ âˆ™ âŠ‘ Î“
  _,_ : âˆ€ {Î“ Î“â€² A} (Ï : Î“ âŠ‘ Î“â€²) (i : Î“â€² âˆ‹ A) â†’ Î“ , A âŠ‘ Î“â€²

stop : âˆ™ âŠ‘ âˆ™
stop = âˆ™

wkâŠ‘ : âˆ€ {B Î“ Î“â€²} â†’ Î“ âŠ‘ Î“â€² â†’ Î“ âŠ‘ Î“â€² , B
wkâŠ‘ âˆ™       = âˆ™
wkâŠ‘ (Ï , i) = wkâŠ‘ Ï , wkâˆ‹ i

liftâŠ‘ : âˆ€ {B Î“ Î“â€²} â†’ Î“ âŠ‘ Î“â€² â†’ Î“ , B âŠ‘ Î“â€² , B
liftâŠ‘ Ï = wkâŠ‘ Ï , zero

idâŠ‘ reflâŠ‘ : âˆ€ {Î“} â†’ Î“ âŠ‘ Î“
idâŠ‘ {âˆ™}    = âˆ™
idâŠ‘ {Î“ , A} = liftâŠ‘ idâŠ‘
reflâŠ‘ = idâŠ‘


----------------------------------------------------------------------------------------------------

renâˆ‹ : âˆ€ {Î“ Î“â€² A} â†’ Î“ âŠ‘ Î“â€² â†’ Î“ âˆ‹ A â†’ Î“â€² âˆ‹ A
renâˆ‹ (Ï , j) zero    = j
renâˆ‹ (Ï , j) (wkâˆ‹ i) = renâˆ‹ Ï i

eqwkrenâˆ‹ : âˆ€ {B Î“ Î“â€² A} (Ï : Î“ âŠ‘ Î“â€²) (i : Î“ âˆ‹ A) â†’
           renâˆ‹ (wkâŠ‘ Ï) i â‰¡ (wkâˆ‹ {B = B} âˆ˜ renâˆ‹ Ï) i
eqwkrenâˆ‹ (Ï , j) zero    = refl
eqwkrenâˆ‹ (Ï , j) (wkâˆ‹ i) = eqwkrenâˆ‹ Ï i

idrenâˆ‹ : âˆ€ {Î“ A} (i : Î“ âˆ‹ A) â†’ renâˆ‹ idâŠ‘ i â‰¡ i
idrenâˆ‹ zero    = refl
idrenâˆ‹ (wkâˆ‹ i) = eqwkrenâˆ‹ idâŠ‘ i â‹® wkâˆ‹ & idrenâˆ‹ i

_âˆ˜âŠ‘_ : âˆ€ {Î“ Î“â€² Î“â€³} â†’ Î“â€² âŠ‘ Î“â€³ â†’ Î“ âŠ‘ Î“â€² â†’ Î“ âŠ‘ Î“â€³
Ïâ€² âˆ˜âŠ‘ âˆ™       = âˆ™
Ïâ€² âˆ˜âŠ‘ (Ï , i) = (Ïâ€² âˆ˜âŠ‘ Ï) , renâˆ‹ Ïâ€² i

transâŠ‘ _â—‹_ : âˆ€ {Î“ Î“â€² Î“â€³} â†’ Î“ âŠ‘ Î“â€² â†’ Î“â€² âŠ‘ Î“â€³ â†’ Î“ âŠ‘ Î“â€³
transâŠ‘ = flip _âˆ˜âŠ‘_
_â—‹_ = transâŠ‘

comprenâˆ‹ : âˆ€ {Î“ Î“â€² Î“â€³ A} (Ïâ€² : Î“â€² âŠ‘ Î“â€³) (Ï : Î“ âŠ‘ Î“â€²) (i : Î“ âˆ‹ A) â†’
           renâˆ‹ (Ïâ€² âˆ˜âŠ‘ Ï) i â‰¡ (renâˆ‹ Ïâ€² âˆ˜ renâˆ‹ Ï) i
comprenâˆ‹ (Ïâ€² , jâ€²) (Ï , j) zero    = refl
comprenâˆ‹ (Ïâ€² , jâ€²) (Ï , j) (wkâˆ‹ i) = comprenâˆ‹ (Ïâ€² , jâ€²) Ï i


----------------------------------------------------------------------------------------------------

lidâŠ‘ : âˆ€ {Î“ Î“â€²} (Ï : Î“ âŠ‘ Î“â€²) â†’ idâŠ‘ âˆ˜âŠ‘ Ï â‰¡ Ï
lidâŠ‘ âˆ™       = refl
lidâŠ‘ (Ï , i) = _,_ & lidâŠ‘ Ï âŠ— idrenâˆ‹ i

eqâŠ‘ : âˆ€ {B Î“ Î“â€² Î“â€³} (Ïâ€² : Î“â€² âŠ‘ Î“â€³) (iâ€² : Î“â€³ âˆ‹ B) (Ï : Î“ âŠ‘ Î“â€²) â†’
      (Ïâ€² , iâ€²) âˆ˜âŠ‘ wkâŠ‘ Ï â‰¡ Ïâ€² âˆ˜âŠ‘ Ï
eqâŠ‘ Ïâ€² iâ€² âˆ™       = refl
eqâŠ‘ Ïâ€² iâ€² (Ï , i) = (_, renâˆ‹ Ïâ€² i) & eqâŠ‘ Ïâ€² iâ€² Ï

eqwkâŠ‘ : âˆ€ {B Î“ Î“â€² Î“â€³} (Ïâ€² : Î“â€² âŠ‘ Î“â€³) (Ï : Î“ âŠ‘ Î“â€²) â†’
        liftâŠ‘ Ïâ€² âˆ˜âŠ‘ wkâŠ‘ Ï â‰¡ wkâŠ‘ {B} (Ïâ€² âˆ˜âŠ‘ Ï)
eqwkâŠ‘ Ïâ€² âˆ™       = refl
eqwkâŠ‘ Ïâ€² (Ï , i) = _,_ & eqwkâŠ‘ Ïâ€² Ï âŠ— eqwkrenâˆ‹ Ïâ€² i

eqliftâŠ‘ : âˆ€ {B Î“ Î“â€² Î“â€³} (Ïâ€² : Î“â€² âŠ‘ Î“â€³) (Ï : Î“ âŠ‘ Î“â€²) â†’
          liftâŠ‘ Ïâ€² âˆ˜âŠ‘ liftâŠ‘ Ï â‰¡ liftâŠ‘ {B} (Ïâ€² âˆ˜âŠ‘ Ï)
eqliftâŠ‘ Ïâ€² âˆ™       = refl
eqliftâŠ‘ Ïâ€² (Ï , i) = (_, zero) & eqwkâŠ‘ Ïâ€² (Ï , i)

ridâŠ‘ : âˆ€ {Î“ Î“â€²} (Ï : Î“ âŠ‘ Î“â€²) â†’ Ï âˆ˜âŠ‘ idâŠ‘ â‰¡ Ï
ridâŠ‘ âˆ™       = refl
ridâŠ‘ (Ï , i) = (_, i) & (eqâŠ‘ Ï i idâŠ‘ â‹® ridâŠ‘ Ï)

assâŠ‘ : âˆ€ {Î“ Î“â€² Î“â€³ Î“â€´} (Ïâ€³ : Î“â€³ âŠ‘ Î“â€´) (Ïâ€² : Î“â€² âŠ‘ Î“â€³) (Ï : Î“ âŠ‘ Î“â€²) â†’
       Ïâ€³ âˆ˜âŠ‘ (Ïâ€² âˆ˜âŠ‘ Ï) â‰¡ (Ïâ€³ âˆ˜âŠ‘ Ïâ€²) âˆ˜âŠ‘ Ï
assâŠ‘ Ïâ€³ Ïâ€² âˆ™       = refl
assâŠ‘ Ïâ€³ Ïâ€² (Ï , i) = _,_ & assâŠ‘ Ïâ€³ Ïâ€² Ï âŠ— comprenâˆ‹ Ïâ€³ Ïâ€² i â»Â¹


----------------------------------------------------------------------------------------------------
