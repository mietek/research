<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>A201802.WIP.LR3a</title><link rel="stylesheet" href="mi-common.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--rewriting</a> <a id="25" class="Symbol">#-}</a>

<a id="30" class="Keyword">module</a> <a id="37" href="A201802.WIP.LR3a.html" class="Module">A201802.WIP.LR3a</a> <a id="54" class="Keyword">where</a>

<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="A201801.Prelude.html" class="Module">A201801.Prelude</a>
<a id="89" class="Keyword">open</a> <a id="94" class="Keyword">import</a> <a id="101" href="A201801.Category.html" class="Module">A201801.Category</a>
<a id="118" class="Keyword">open</a> <a id="123" class="Keyword">import</a> <a id="130" href="A201801.Fin.html" class="Module">A201801.Fin</a>
<a id="142" class="Keyword">open</a> <a id="147" class="Keyword">import</a> <a id="154" href="A201801.FinLemmas.html" class="Module">A201801.FinLemmas</a>
<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="A201801.Vec.html" class="Module">A201801.Vec</a>
<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="A201801.VecLemmas.html" class="Module">A201801.VecLemmas</a>
<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="A201801.AllVec.html" class="Module">A201801.AllVec</a>

<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="A201802.LR0.html" class="Module">A201802.LR0</a>
<a id="278" class="Keyword">open</a> <a id="283" class="Keyword">import</a> <a id="290" href="A201802.LR0Lemmas.html" class="Module">A201802.LR0Lemmas</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="A201802.LR1.html" class="Module">A201802.LR1</a>
<a id="332" class="Keyword">open</a> <a id="337" class="Keyword">import</a> <a id="344" href="A201802.LR2.html" class="Module">A201802.LR2</a> <a id="356" class="Comment">-- TODO: which LR2?</a>


<a id="378" class="Comment">--------------------------------------------------------------------------------</a>


<a id="461" class="Comment">-- SN : âˆ€ {M A} â†’ âˆ™ âŠ¢ M â¦‚ A â†’ Set</a>
<a id="495" class="Comment">-- SN {M} {ğ”¹}     ğ’Ÿ = M â‡“</a>
<a id="521" class="Comment">-- SN {M} {A âŠƒ B} ğ’Ÿ = M â‡“ Ã— (âˆ€ {N} â†’ {â„° : âˆ™ âŠ¢ N â¦‚ A} â†’ SN â„° â†’ SN (app ğ’Ÿ â„°))</a>


<a id="599" class="Comment">-- -- sn-if-true : âˆ€ {C M N O} â†’ {ğ’Ÿ : âˆ™ âŠ¢ M â¦‚ ğ”¹} {â„° : âˆ™ âŠ¢ N â¦‚ C} {â„± : âˆ™ âŠ¢ O â¦‚ C}</a>
<a id="680" class="Comment">-- --                          â†’ M â¤… TRUE â†’ SN â„°</a>
<a id="729" class="Comment">-- --                          â†’ SN (if ğ’Ÿ â„° â„±)</a>
<a id="776" class="Comment">-- -- sn-if-true {ğ”¹}     Mâ¤…TRUE Nâ‡“       = halt-IF-TRUE Mâ¤…TRUE Nâ‡“</a>
<a id="842" class="Comment">-- -- sn-if-true {A âŠƒ B} Mâ¤…TRUE (Nâ‡“ , f) = halt-IF-TRUE Mâ¤…TRUE Nâ‡“ , (\ snğ’¢ â†’ {!!}) -- SN (app (if ğ’Ÿ â„° â„±) ğ’¢)</a>


<a id="952" class="Comment">-- -- sn-if-false : âˆ€ {C M N O} â†’ {ğ’Ÿ : âˆ™ âŠ¢ M â¦‚ ğ”¹} {â„° : âˆ™ âŠ¢ N â¦‚ C} {â„± : âˆ™ âŠ¢ O â¦‚ C}</a>
<a id="1034" class="Comment">-- --                           â†’ M â¤… FALSE â†’ SN â„±</a>
<a id="1085" class="Comment">-- --                           â†’ SN (if ğ’Ÿ â„° â„±)</a>
<a id="1133" class="Comment">-- -- sn-if-false {ğ”¹}     Mâ¤…FALSE Oâ‡“       = halt-IF-FALSE Mâ¤…FALSE Oâ‡“</a>
<a id="1203" class="Comment">-- -- sn-if-false {A âŠƒ B} Mâ¤…FALSE (Oâ‡“ , f) = halt-IF-FALSE Mâ¤…FALSE Oâ‡“ , (\ snğ’¢ â†’ {!!}) -- SN (app (if ğ’Ÿ â„° â„±) ğ’¢)</a>


<a id="1317" class="Comment">-- -- sn : âˆ€ {M A} â†’ (ğ’Ÿ : âˆ™ âŠ¢ M â¦‚ A)</a>
<a id="1354" class="Comment">-- --              â†’ SN ğ’Ÿ</a>
<a id="1380" class="Comment">-- -- sn (var ())</a>
<a id="1398" class="Comment">-- -- sn (lam ğ’Ÿ)    = val (LAM _) , done , (\ snâ„° â†’ {!!}) -- SN (app (lam ğ’Ÿ) â„°)</a>
<a id="1478" class="Comment">-- -- sn (app ğ’Ÿ â„°)  = {!!} -- SN (app ğ’Ÿ â„°)</a>
<a id="1521" class="Comment">-- -- sn true       = val TRUE , done</a>
<a id="1559" class="Comment">-- -- sn false      = val FALSE , done</a>
<a id="1598" class="Comment">-- -- sn (if ğ’Ÿ â„° â„±) with sn ğ’Ÿ</a>
<a id="1628" class="Comment">-- -- sn (if ğ’Ÿ â„° â„±) | Mâ€² , Mâ¤…Mâ€² with tpâ¤… Mâ¤…Mâ€² ğ’Ÿ</a>
<a id="1676" class="Comment">-- -- sn (if ğ’Ÿ â„° â„±) | val (LAM Mâ€³) {{iv-LAM}}   , Mâ¤…LAM-Mâ€³ | ()</a>
<a id="1740" class="Comment">-- -- sn (if ğ’Ÿ â„° â„±) | val TRUE     {{iv-TRUE}}  , Mâ¤…TRUE   | true  = sn-if-true {ğ’Ÿ = ğ’Ÿ} {â„°} {â„±} Mâ¤…TRUE (sn â„°)</a>
<a id="1850" class="Comment">-- -- sn (if ğ’Ÿ â„° â„±) | val FALSE    {{iv-FALSE}} , Mâ¤…FALSE  | false = sn-if-false {ğ’Ÿ = ğ’Ÿ} {â„°} {â„±} Mâ¤…FALSE (sn â„±)</a>


<a id="1964" class="Comment">-- -- halt-sn : âˆ€ {A M} â†’ (ğ’Ÿ : âˆ™ âŠ¢ M â¦‚ A) â†’ SN ğ’Ÿ</a>
<a id="2013" class="Comment">-- --                   â†’ M â‡“</a>
<a id="2043" class="Comment">-- -- halt-sn {ğ”¹}     ğ’Ÿ Mâ‡“       = Mâ‡“</a>
<a id="2081" class="Comment">-- -- halt-sn {A âŠƒ B} ğ’Ÿ (Mâ‡“ , f) = Mâ‡“</a>


<a id="2121" class="Comment">-- -- halt : âˆ€ {M A} â†’ âˆ™ âŠ¢ M â¦‚ A</a>
<a id="2154" class="Comment">-- --                â†’ M â‡“</a>
<a id="2181" class="Comment">-- -- halt ğ’Ÿ = halt-sn ğ’Ÿ (sn ğ’Ÿ)</a>


<a id="2215" class="Comment">-- --------------------------------------------------------------------------------</a>


<a id="2301" class="Comment">-- SNs : âˆ€ {g} â†’ {Ï„ : Terms 0 g} {Î“ : Types g} â†’ âˆ™ âŠ¢ Ï„ â¦‚ Î“ all â†’ Set</a>
<a id="2370" class="Comment">-- SNs {Ï„ = Ï„} {Î“} Î³ = {!All ? Î³!}</a>

<a id="2406" class="Comment">-- -- SNs {Î“ = âˆ™}     {vals âˆ™}                       âˆ™       = âŠ¤</a>
<a id="2471" class="Comment">-- -- SNs {Î“ = Î“ , A} {vals (Ï„ , M) {{av-Ï„ , iv-M}}} (Î³ , ğ’Ÿ) = SNs {Ï„ = vals Ï„ {{av-Ï„}}} Î³ Ã— SN ğ’Ÿ</a>


<a id="2571" class="Comment">-- -- sn-sub : âˆ€ {g M A} â†’ {Ï„ : Vals 0 g} {Î“ : Types g} {Î³ : âˆ™ âŠ¢ Vals.terms Ï„ â¦‚ Î“ all}</a>
<a id="2658" class="Comment">-- --                    â†’ SNs Î³ â†’ (ğ’Ÿ : Î“ âŠ¢ M â¦‚ A)</a>
<a id="2709" class="Comment">-- --                    â†’ SN (sub Î³ ğ’Ÿ)</a>
<a id="2749" class="Comment">-- -- sn-sub Ïƒ ğ’Ÿ = {!!}</a>


<a id="2775" class="Comment">-- -- --------------------------------------------------------------------------------</a>
</pre></body></html>