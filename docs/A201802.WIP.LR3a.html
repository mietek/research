<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>A201802.WIP.LR3a</title><link rel="stylesheet" href="mi-common.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="A201802.WIP.LR3a.html" class="Module">A201802.WIP.LR3a</a> <a id="25" class="Keyword">where</a>

<a id="32" class="Keyword">open</a> <a id="37" class="Keyword">import</a> <a id="44" href="A201801.Prelude.html" class="Module">A201801.Prelude</a>
<a id="60" class="Keyword">open</a> <a id="65" class="Keyword">import</a> <a id="72" href="A201801.Category.html" class="Module">A201801.Category</a>
<a id="89" class="Keyword">open</a> <a id="94" class="Keyword">import</a> <a id="101" href="A201801.Fin.html" class="Module">A201801.Fin</a>
<a id="113" class="Keyword">open</a> <a id="118" class="Keyword">import</a> <a id="125" href="A201801.FinLemmas.html" class="Module">A201801.FinLemmas</a>
<a id="143" class="Keyword">open</a> <a id="148" class="Keyword">import</a> <a id="155" href="A201801.Vec.html" class="Module">A201801.Vec</a>
<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="A201801.VecLemmas.html" class="Module">A201801.VecLemmas</a>
<a id="197" class="Keyword">open</a> <a id="202" class="Keyword">import</a> <a id="209" href="A201801.AllVec.html" class="Module">A201801.AllVec</a>

<a id="225" class="Keyword">open</a> <a id="230" class="Keyword">import</a> <a id="237" href="A201802.LR0.html" class="Module">A201802.LR0</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="A201802.LR0Lemmas.html" class="Module">A201802.LR0Lemmas</a>
<a id="279" class="Keyword">open</a> <a id="284" class="Keyword">import</a> <a id="291" href="A201802.LR1.html" class="Module">A201802.LR1</a>
<a id="303" class="Keyword">open</a> <a id="308" class="Keyword">import</a> <a id="315" href="A201802.LR2.html" class="Module">A201802.LR2</a> <a id="327" class="Comment">-- TODO: which LR2?</a>


<a id="349" class="Comment">--------------------------------------------------------------------------------</a>


<a id="432" class="Comment">-- SN : âˆ€ {M A} â†’ âˆ™ âŠ¢ M â¦‚ A â†’ Set</a>
<a id="466" class="Comment">-- SN {M} {ğ”¹}     ğ’Ÿ = M â‡“</a>
<a id="492" class="Comment">-- SN {M} {A âŠƒ B} ğ’Ÿ = M â‡“ Ã— (âˆ€ {N} â†’ {â„° : âˆ™ âŠ¢ N â¦‚ A} â†’ SN â„° â†’ SN (app ğ’Ÿ â„°))</a>


<a id="570" class="Comment">-- -- sn-if-true : âˆ€ {C M N O} â†’ {ğ’Ÿ : âˆ™ âŠ¢ M â¦‚ ğ”¹} {â„° : âˆ™ âŠ¢ N â¦‚ C} {â„± : âˆ™ âŠ¢ O â¦‚ C}</a>
<a id="651" class="Comment">-- --                          â†’ M â¤… TRUE â†’ SN â„°</a>
<a id="700" class="Comment">-- --                          â†’ SN (if ğ’Ÿ â„° â„±)</a>
<a id="747" class="Comment">-- -- sn-if-true {ğ”¹}     Mâ¤…TRUE Nâ‡“       = halt-IF-TRUE Mâ¤…TRUE Nâ‡“</a>
<a id="813" class="Comment">-- -- sn-if-true {A âŠƒ B} Mâ¤…TRUE (Nâ‡“ , f) = halt-IF-TRUE Mâ¤…TRUE Nâ‡“ , (\ snğ’¢ â†’ {!!}) -- SN (app (if ğ’Ÿ â„° â„±) ğ’¢)</a>


<a id="923" class="Comment">-- -- sn-if-false : âˆ€ {C M N O} â†’ {ğ’Ÿ : âˆ™ âŠ¢ M â¦‚ ğ”¹} {â„° : âˆ™ âŠ¢ N â¦‚ C} {â„± : âˆ™ âŠ¢ O â¦‚ C}</a>
<a id="1005" class="Comment">-- --                           â†’ M â¤… FALSE â†’ SN â„±</a>
<a id="1056" class="Comment">-- --                           â†’ SN (if ğ’Ÿ â„° â„±)</a>
<a id="1104" class="Comment">-- -- sn-if-false {ğ”¹}     Mâ¤…FALSE Oâ‡“       = halt-IF-FALSE Mâ¤…FALSE Oâ‡“</a>
<a id="1174" class="Comment">-- -- sn-if-false {A âŠƒ B} Mâ¤…FALSE (Oâ‡“ , f) = halt-IF-FALSE Mâ¤…FALSE Oâ‡“ , (\ snğ’¢ â†’ {!!}) -- SN (app (if ğ’Ÿ â„° â„±) ğ’¢)</a>


<a id="1288" class="Comment">-- -- sn : âˆ€ {M A} â†’ (ğ’Ÿ : âˆ™ âŠ¢ M â¦‚ A)</a>
<a id="1325" class="Comment">-- --              â†’ SN ğ’Ÿ</a>
<a id="1351" class="Comment">-- -- sn (var ())</a>
<a id="1369" class="Comment">-- -- sn (lam ğ’Ÿ)    = val (LAM _) , done , (\ snâ„° â†’ {!!}) -- SN (app (lam ğ’Ÿ) â„°)</a>
<a id="1449" class="Comment">-- -- sn (app ğ’Ÿ â„°)  = {!!} -- SN (app ğ’Ÿ â„°)</a>
<a id="1492" class="Comment">-- -- sn true       = val TRUE , done</a>
<a id="1530" class="Comment">-- -- sn false      = val FALSE , done</a>
<a id="1569" class="Comment">-- -- sn (if ğ’Ÿ â„° â„±) with sn ğ’Ÿ</a>
<a id="1599" class="Comment">-- -- sn (if ğ’Ÿ â„° â„±) | Mâ€² , Mâ¤…Mâ€² with tpâ¤… Mâ¤…Mâ€² ğ’Ÿ</a>
<a id="1647" class="Comment">-- -- sn (if ğ’Ÿ â„° â„±) | val (LAM Mâ€³) {{iv-LAM}}   , Mâ¤…LAM-Mâ€³ | ()</a>
<a id="1711" class="Comment">-- -- sn (if ğ’Ÿ â„° â„±) | val TRUE     {{iv-TRUE}}  , Mâ¤…TRUE   | true  = sn-if-true {ğ’Ÿ = ğ’Ÿ} {â„°} {â„±} Mâ¤…TRUE (sn â„°)</a>
<a id="1821" class="Comment">-- -- sn (if ğ’Ÿ â„° â„±) | val FALSE    {{iv-FALSE}} , Mâ¤…FALSE  | false = sn-if-false {ğ’Ÿ = ğ’Ÿ} {â„°} {â„±} Mâ¤…FALSE (sn â„±)</a>


<a id="1935" class="Comment">-- -- halt-sn : âˆ€ {A M} â†’ (ğ’Ÿ : âˆ™ âŠ¢ M â¦‚ A) â†’ SN ğ’Ÿ</a>
<a id="1984" class="Comment">-- --                   â†’ M â‡“</a>
<a id="2014" class="Comment">-- -- halt-sn {ğ”¹}     ğ’Ÿ Mâ‡“       = Mâ‡“</a>
<a id="2052" class="Comment">-- -- halt-sn {A âŠƒ B} ğ’Ÿ (Mâ‡“ , f) = Mâ‡“</a>


<a id="2092" class="Comment">-- -- halt : âˆ€ {M A} â†’ âˆ™ âŠ¢ M â¦‚ A</a>
<a id="2125" class="Comment">-- --                â†’ M â‡“</a>
<a id="2152" class="Comment">-- -- halt ğ’Ÿ = halt-sn ğ’Ÿ (sn ğ’Ÿ)</a>


<a id="2186" class="Comment">-- --------------------------------------------------------------------------------</a>


<a id="2272" class="Comment">-- SNs : âˆ€ {g} â†’ {Ï„ : Terms 0 g} {Î“ : Types g} â†’ âˆ™ âŠ¢ Ï„ â¦‚ Î“ all â†’ Set</a>
<a id="2341" class="Comment">-- SNs {Ï„ = Ï„} {Î“} Î³ = {!All ? Î³!}</a>

<a id="2377" class="Comment">-- -- SNs {Î“ = âˆ™}     {vals âˆ™}                       âˆ™       = âŠ¤</a>
<a id="2442" class="Comment">-- -- SNs {Î“ = Î“ , A} {vals (Ï„ , M) {{av-Ï„ , iv-M}}} (Î³ , ğ’Ÿ) = SNs {Ï„ = vals Ï„ {{av-Ï„}}} Î³ Ã— SN ğ’Ÿ</a>


<a id="2542" class="Comment">-- -- sn-sub : âˆ€ {g M A} â†’ {Ï„ : Vals 0 g} {Î“ : Types g} {Î³ : âˆ™ âŠ¢ Vals.terms Ï„ â¦‚ Î“ all}</a>
<a id="2629" class="Comment">-- --                    â†’ SNs Î³ â†’ (ğ’Ÿ : Î“ âŠ¢ M â¦‚ A)</a>
<a id="2680" class="Comment">-- --                    â†’ SN (sub Î³ ğ’Ÿ)</a>
<a id="2720" class="Comment">-- -- sn-sub Ïƒ ğ’Ÿ = {!!}</a>


<a id="2746" class="Comment">-- -- --------------------------------------------------------------------------------</a>
</pre></body></html>