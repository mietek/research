<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>A202401.Everything</title><link rel="stylesheet" href="mi-common.css"></head><body><pre class="Agda"><a id="1" class="Comment">{- -------------------------------------------------------------------------------------------------

thanks to ames, dolio, drvink, mxu, ncf, ovi, pgiarrusso, pounce, rak, roconnor, tuplanolla

join ##dependent on libera.chat

- Abel (2013)
  “NbE: Dependent types and impredicativity”
  https://www.cse.chalmers.se/~abela/habil.pdf

- Altenkirch (1993)
  “Constructions, inductive types, and strong normalization”
  http://www.cs.nott.ac.uk/~psztxa/publ/phd93.pdf

- Coquand (2002)
  “A formalised proof of the soundness and completeness of a STLC with explicit substitutions”
  https://github.com/dpndnt/library/blob/master/doc/pdf/coquand-2002.pdf

- Ghani (1995)
  “Adjoint rewriting”
  https://www.cs.le.ac.uk/people/ng13/papers/yellowthesis.ps.gz

- Kovacs (2017)
  “A machine-checked correctness proof of NBE for STLC”
  https://github.com/dpndnt/library/blob/master/doc/pdf/kovacs-2017.pdf

- Schäfer (2019)
  “Engineering formal systems in constructive type theory”
  https://www.ps.uni-saarland.de/~schaefer/thesis/draft-screen.pdf


------------------------------------------------------------------------------------------------- -}</a>

<a id="1148" class="Keyword">module</a> <a id="1155" href="A202401.Everything.html" class="Module">A202401.Everything</a> <a id="1174" class="Keyword">where</a>

<a id="1181" class="Keyword">import</a> <a id="1188" href="A202401.Prelude.html" class="Module">A202401.Prelude</a>
<a id="1204" class="Keyword">import</a> <a id="1211" href="A202401.GAN.html" class="Module">A202401.GAN</a>
<a id="1223" class="Keyword">import</a> <a id="1230" href="A202401.DBI.html" class="Module">A202401.DBI</a>


<a id="1244" class="Comment">----------------------------------------------------------------------------------------------------</a>

<a id="1346" class="Comment">-- main version, with order-preserving embeddings</a>

<a id="1397" class="Keyword">import</a> <a id="1404" href="A202401.OPE.html" class="Module">A202401.OPE</a>
<a id="1416" class="Keyword">import</a> <a id="1423" href="A202401.OPE-GAN.html" class="Module">A202401.OPE-GAN</a>

<a id="1440" class="Keyword">import</a> <a id="1447" href="A202401.Kit1.html" class="Module">A202401.Kit1</a>
<a id="1460" class="Keyword">import</a> <a id="1467" href="A202401.Kit2.html" class="Module">A202401.Kit2</a>
<a id="1480" class="Keyword">import</a> <a id="1487" href="A202401.Kit2-GAN.html" class="Module">A202401.Kit2-GAN</a>
<a id="1504" class="Keyword">import</a> <a id="1511" href="A202401.Kit3.html" class="Module">A202401.Kit3</a>
<a id="1524" class="Keyword">import</a> <a id="1531" href="A202401.Kit3-GAN.html" class="Module">A202401.Kit3-GAN</a>
<a id="1548" class="Keyword">import</a> <a id="1555" href="A202401.Kit4.html" class="Module">A202401.Kit4</a>

<a id="1569" class="Keyword">import</a> <a id="1576" href="A202401.STLC-Base.html" class="Module">A202401.STLC-Base</a>
<a id="1594" class="Keyword">import</a> <a id="1601" href="A202401.STLC-Base-RenSub.html" class="Module">A202401.STLC-Base-RenSub</a>
<a id="1626" class="Keyword">import</a> <a id="1633" href="A202401.STLC-Base-WNF.html" class="Module">A202401.STLC-Base-WNF</a>
<a id="1655" class="Keyword">import</a> <a id="1662" href="A202401.STLC-Base-WNF-CBV.html" class="Module">A202401.STLC-Base-WNF-CBV</a>
<a id="1688" class="Keyword">import</a> <a id="1695" href="A202401.STLC-Base-WNF-CBV-SN.html" class="Module">A202401.STLC-Base-WNF-CBV-SN</a>
<a id="1724" class="Keyword">import</a> <a id="1731" href="A202401.STLC-Base-WNF-CBV-SN2.html" class="Module">A202401.STLC-Base-WNF-CBV-SN2</a>
<a id="1761" class="Keyword">import</a> <a id="1768" href="A202401.STLC-Base-WNF-NBE.html" class="Module">A202401.STLC-Base-WNF-NBE</a>
<a id="1794" class="Keyword">import</a> <a id="1801" href="A202401.STLC-Base-WNF-NBE2.html" class="Module">A202401.STLC-Base-WNF-NBE2</a>
<a id="1828" class="Keyword">import</a> <a id="1835" href="A202401.STLC-Base-EWNF.html" class="Module">A202401.STLC-Base-EWNF</a>
<a id="1858" class="Keyword">import</a> <a id="1865" href="A202401.STLC-Base-EWNF-CBV.html" class="Module">A202401.STLC-Base-EWNF-CBV</a>
<a id="1892" class="Keyword">import</a> <a id="1899" href="A202401.STLC-Base-NF.html" class="Module">A202401.STLC-Base-NF</a>
<a id="1920" class="Keyword">import</a> <a id="1927" href="A202401.STLC-Base-NF-AO.html" class="Module">A202401.STLC-Base-NF-AO</a>
<a id="1951" class="Keyword">import</a> <a id="1958" href="A202401.STLC-Base-NF-NDR.html" class="Module">A202401.STLC-Base-NF-NDR</a>
<a id="1983" class="Keyword">import</a> <a id="1990" href="A202401.STLC-Base-NF-NDPR.html" class="Module">A202401.STLC-Base-NF-NDPR</a>

<a id="2017" class="Keyword">import</a> <a id="2024" href="A202401.STLC-Negative.html" class="Module">A202401.STLC-Negative</a>
<a id="2046" class="Keyword">import</a> <a id="2053" href="A202401.STLC-Negative-RenSub.html" class="Module">A202401.STLC-Negative-RenSub</a>
<a id="2082" class="Keyword">import</a> <a id="2089" href="A202401.STLC-Negative-WNF.html" class="Module">A202401.STLC-Negative-WNF</a>
<a id="2115" class="Keyword">import</a> <a id="2122" href="A202401.STLC-Negative-WNF-CBV.html" class="Module">A202401.STLC-Negative-WNF-CBV</a>
<a id="2152" class="Keyword">import</a> <a id="2159" href="A202401.STLC-Negative-WNF-NBE.html" class="Module">A202401.STLC-Negative-WNF-NBE</a>
<a id="2189" class="Keyword">import</a> <a id="2196" href="A202401.STLC-Negative-WNF-NBE2.html" class="Module">A202401.STLC-Negative-WNF-NBE2</a>

<a id="2228" class="Keyword">import</a> <a id="2235" href="A202401.STLC-Naturals.html" class="Module">A202401.STLC-Naturals</a>
<a id="2257" class="Keyword">import</a> <a id="2264" href="A202401.STLC-Naturals-RenSub.html" class="Module">A202401.STLC-Naturals-RenSub</a>
<a id="2293" class="Keyword">import</a> <a id="2300" href="A202401.STLC-Naturals-SWNF.html" class="Module">A202401.STLC-Naturals-SWNF</a>
<a id="2327" class="Keyword">import</a> <a id="2334" href="A202401.STLC-Naturals-SWNF-CBV.html" class="Module">A202401.STLC-Naturals-SWNF-CBV</a>
<a id="2365" class="Keyword">import</a> <a id="2372" href="A202401.STLC-Naturals-SWNF-NBE.html" class="Module">A202401.STLC-Naturals-SWNF-NBE</a>
<a id="2403" class="Keyword">import</a> <a id="2410" href="A202401.STLC-Naturals-SWNF-NBE2.html" class="Module">A202401.STLC-Naturals-SWNF-NBE2</a>
<a id="2442" class="Keyword">import</a> <a id="2449" href="A202401.STLC-Naturals-SWNF-NBE3.html" class="Module">A202401.STLC-Naturals-SWNF-NBE3</a>
<a id="2481" class="Keyword">import</a> <a id="2488" href="A202401.STLC-Naturals-WNF.html" class="Module">A202401.STLC-Naturals-WNF</a>
<a id="2514" class="Keyword">import</a> <a id="2521" href="A202401.STLC-Naturals-WNF-CBV.html" class="Module">A202401.STLC-Naturals-WNF-CBV</a>
<a id="2551" class="Keyword">import</a> <a id="2558" href="A202401.STLC-Naturals-WNF-NBE.html" class="Module">A202401.STLC-Naturals-WNF-NBE</a>
<a id="2588" class="Keyword">import</a> <a id="2595" href="A202401.STLC-Naturals2.html" class="Module">A202401.STLC-Naturals2</a>
<a id="2618" class="Keyword">import</a> <a id="2625" href="A202401.STLC-Naturals2-NF.html" class="Module">A202401.STLC-Naturals2-NF</a>
<a id="2651" class="Keyword">import</a> <a id="2658" href="A202401.STLC-Naturals2-NF-NBE.html" class="Module">A202401.STLC-Naturals2-NF-NBE</a>


<a id="2690" class="Comment">----------------------------------------------------------------------------------------------------</a>

<a id="2792" class="Comment">-- alternative version, with first-order renamings</a>

<a id="2844" class="Keyword">import</a> <a id="2851" href="A202401.FOR.html" class="Module">A202401.FOR</a>
<a id="2863" class="Keyword">import</a> <a id="2870" href="A202401.FOR-GAN.html" class="Module">A202401.FOR-GAN</a>

<a id="2887" class="Keyword">import</a> <a id="2894" href="A202401.FOR-Kit1.html" class="Module">A202401.FOR-Kit1</a>
<a id="2911" class="Keyword">import</a> <a id="2918" href="A202401.FOR-Kit2.html" class="Module">A202401.FOR-Kit2</a>
<a id="2935" class="Keyword">import</a> <a id="2942" href="A202401.FOR-Kit2-GAN.html" class="Module">A202401.FOR-Kit2-GAN</a>
<a id="2963" class="Keyword">import</a> <a id="2970" href="A202401.FOR-Kit3.html" class="Module">A202401.FOR-Kit3</a>
<a id="2987" class="Keyword">import</a> <a id="2994" href="A202401.FOR-Kit3-GAN.html" class="Module">A202401.FOR-Kit3-GAN</a>

<a id="3016" class="Keyword">import</a> <a id="3023" href="A202401.FOR-STLC-Base.html" class="Module">A202401.FOR-STLC-Base</a>
<a id="3045" class="Keyword">import</a> <a id="3052" href="A202401.FOR-STLC-Base-RenSub.html" class="Module">A202401.FOR-STLC-Base-RenSub</a>
<a id="3081" class="Keyword">import</a> <a id="3088" href="A202401.FOR-STLC-Base-WNF.html" class="Module">A202401.FOR-STLC-Base-WNF</a>
<a id="3114" class="Keyword">import</a> <a id="3121" href="A202401.FOR-STLC-Base-WNF-CBV.html" class="Module">A202401.FOR-STLC-Base-WNF-CBV</a>


<a id="3153" class="Comment">----------------------------------------------------------------------------------------------------</a>

<a id="3255" class="Comment">-- alternative version, with higher-order renamings</a>

<a id="3308" class="Keyword">import</a> <a id="3315" href="A202401.HOR.html" class="Module">A202401.HOR</a>


<a id="3329" class="Comment">----------------------------------------------------------------------------------------------------</a>

<a id="3431" class="Comment">-- roadmap towards correctness of NBE</a>

<a id="3470" class="Keyword">open</a> <a id="3475" href="A202401.STLC-Base-WNF-NBE2.html" class="Module">A202401.STLC-Base-WNF-NBE2</a>
<a id="3502" class="Keyword">open</a> <a id="3507" href="A202401.STLC-Base.html#1925" class="Module">BetaShortEtaLongDefEq</a>

<a id="3530" class="Keyword">postulate</a>
  <a id="3542" class="Comment">-- Abel p.8: “preservation of meaning”</a>
  <a id="lem-1"></a><a id="3583" href="A202401.Everything.html#3583" class="Postulate">lem-1</a> <a id="3589" class="Symbol">:</a> <a id="3591" class="Symbol">∀</a> <a id="3593" class="Symbol">{</a><a id="3594" href="A202401.Everything.html#3594" class="Bound">ℳ</a> <a id="3596" class="Symbol">:</a> <a id="3598" href="A202401.STLC-Base-WNF-NBE2.html#409" class="Record">Model</a><a id="3603" class="Symbol">}</a> <a id="3605" class="Symbol">{</a><a id="3606" href="A202401.Everything.html#3606" class="Bound">W</a> <a id="3608" class="Symbol">:</a> <a id="3610" href="A202401.STLC-Base-WNF-NBE2.html#440" class="Field">World</a> <a id="3616" href="A202401.Everything.html#3594" class="Bound">ℳ</a><a id="3617" class="Symbol">}</a> <a id="3619" class="Symbol">{</a><a id="3620" href="A202401.Everything.html#3620" class="Bound">Γ</a> <a id="3622" href="A202401.Everything.html#3622" class="Bound">A</a><a id="3623" class="Symbol">}</a> <a id="3625" class="Symbol">(</a><a id="3626" href="A202401.Everything.html#3626" class="Bound">t</a> <a id="3628" class="Symbol">:</a> <a id="3630" href="A202401.Everything.html#3620" class="Bound">Γ</a> <a id="3632" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="3634" href="A202401.Everything.html#3622" class="Bound">A</a><a id="3635" class="Symbol">)</a> <a id="3637" class="Symbol">→</a> <a id="3639" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="3641" href="A202401.Everything.html#3626" class="Bound">t</a> <a id="3643" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="3645" class="Symbol">{</a><a id="3646" href="A202401.Everything.html#3594" class="Bound">ℳ</a><a id="3647" class="Symbol">}</a> <a id="3649" class="Symbol">{</a><a id="3650" href="A202401.Everything.html#3606" class="Bound">W</a><a id="3651" class="Symbol">}</a> <a id="3653" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3655" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="3657" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="3661" class="Symbol">(</a><a id="3662" href="A202401.STLC-Base-WNF-NBE2.html#2084" class="Function">nbe</a> <a id="3666" href="A202401.Everything.html#3626" class="Bound">t</a><a id="3667" class="Symbol">)</a> <a id="3669" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a>

  <a id="3674" class="Comment">-- Abel p.8: “idempotency”</a>
  <a id="3703" class="Comment">-- Kovacs p.59: “stability”</a>
  <a id="lem-2"></a><a id="3733" href="A202401.Everything.html#3733" class="Postulate">lem-2</a> <a id="3739" class="Symbol">:</a> <a id="3741" class="Symbol">∀</a> <a id="3743" class="Symbol">{</a><a id="3744" href="A202401.Everything.html#3744" class="Bound">Γ</a> <a id="3746" href="A202401.Everything.html#3746" class="Bound">A</a><a id="3747" class="Symbol">}</a> <a id="3749" class="Symbol">(</a><a id="3750" href="A202401.Everything.html#3750" class="Bound">t</a> <a id="3752" class="Symbol">:</a> <a id="3754" href="A202401.Everything.html#3744" class="Bound">Γ</a> <a id="3756" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="3758" href="A202401.Everything.html#3746" class="Bound">A</a><a id="3759" class="Symbol">)</a> <a id="3761" class="Symbol">→</a> <a id="3763" href="A202401.STLC-Base-WNF.html#348" class="Datatype">NF</a> <a id="3766" href="A202401.Everything.html#3750" class="Bound">t</a> <a id="3768" class="Symbol">→</a> <a id="3770" href="A202401.Everything.html#3750" class="Bound">t</a> <a id="3772" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3774" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="3778" class="Symbol">(</a><a id="3779" href="A202401.STLC-Base-WNF-NBE2.html#2084" class="Function">nbe</a> <a id="3783" href="A202401.Everything.html#3750" class="Bound">t</a><a id="3784" class="Symbol">)</a>

  <a id="3789" class="Comment">-- Abel p.8: “semantic equality”</a>
  <a id="lem-3"></a><a id="3824" href="A202401.Everything.html#3824" class="Postulate">lem-3</a> <a id="3830" class="Symbol">:</a> <a id="3832" class="Symbol">∀</a> <a id="3834" class="Symbol">{</a><a id="3835" href="A202401.Everything.html#3835" class="Bound">ℳ</a> <a id="3837" class="Symbol">:</a> <a id="3839" href="A202401.STLC-Base-WNF-NBE2.html#409" class="Record">Model</a><a id="3844" class="Symbol">}</a> <a id="3846" class="Symbol">{</a><a id="3847" href="A202401.Everything.html#3847" class="Bound">W</a> <a id="3849" class="Symbol">:</a> <a id="3851" href="A202401.STLC-Base-WNF-NBE2.html#440" class="Field">World</a> <a id="3857" href="A202401.Everything.html#3835" class="Bound">ℳ</a><a id="3858" class="Symbol">}</a> <a id="3860" class="Symbol">{</a><a id="3861" href="A202401.Everything.html#3861" class="Bound">Γ</a> <a id="3863" href="A202401.Everything.html#3863" class="Bound">A</a><a id="3864" class="Symbol">}</a> <a id="3866" class="Symbol">(</a><a id="3867" href="A202401.Everything.html#3867" class="Bound">t</a> <a id="3869" href="A202401.Everything.html#3869" class="Bound">t′</a> <a id="3872" class="Symbol">:</a> <a id="3874" href="A202401.Everything.html#3861" class="Bound">Γ</a> <a id="3876" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="3878" href="A202401.Everything.html#3863" class="Bound">A</a><a id="3879" class="Symbol">)</a> <a id="3881" class="Symbol">→</a> <a id="3883" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="3885" href="A202401.Everything.html#3867" class="Bound">t</a> <a id="3887" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="3889" class="Symbol">{</a><a id="3890" href="A202401.Everything.html#3835" class="Bound">ℳ</a><a id="3891" class="Symbol">}</a> <a id="3893" class="Symbol">{</a><a id="3894" href="A202401.Everything.html#3847" class="Bound">W</a><a id="3895" class="Symbol">}</a> <a id="3897" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3899" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="3901" href="A202401.Everything.html#3869" class="Bound">t′</a> <a id="3904" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="3906" class="Symbol">→</a>
          <a id="3918" href="A202401.STLC-Base-WNF-NBE2.html#2084" class="Function">nbe</a> <a id="3922" href="A202401.Everything.html#3867" class="Bound">t</a> <a id="3924" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3926" href="A202401.STLC-Base-WNF-NBE2.html#2084" class="Function">nbe</a> <a id="3930" href="A202401.Everything.html#3869" class="Bound">t′</a>

<a id="3934" class="Comment">-- Abel p.8: “βη-equivalence”; “definitional equality”</a>
<a id="_≝′_"></a><a id="3989" href="A202401.Everything.html#3989" class="Function Operator">_≝′_</a> <a id="3994" class="Symbol">:</a> <a id="3996" class="Symbol">∀</a> <a id="3998" class="Symbol">{</a><a id="3999" href="A202401.Everything.html#3999" class="Bound">Γ</a> <a id="4001" href="A202401.Everything.html#4001" class="Bound">A</a><a id="4002" class="Symbol">}</a> <a id="4004" class="Symbol">→</a> <a id="4006" href="A202401.Everything.html#3999" class="Bound">Γ</a> <a id="4008" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="4010" href="A202401.Everything.html#4001" class="Bound">A</a> <a id="4012" class="Symbol">→</a> <a id="4014" href="A202401.Everything.html#3999" class="Bound">Γ</a> <a id="4016" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="4018" href="A202401.Everything.html#4001" class="Bound">A</a> <a id="4020" class="Symbol">→</a> <a id="4022" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="4026" href="A202401.Everything.html#3989" class="Function Operator">_≝′_</a> <a id="4031" class="Symbol">=</a> <a id="4033" href="A202401.STLC-Base.html#1974" class="Datatype Operator">_≝_</a>

<a id="4038" class="Keyword">postulate</a>
  <a id="4050" class="Comment">-- Abel p.8: “substitution is meaning-preserving”</a>
  <a id="thm-i"></a><a id="4102" href="A202401.Everything.html#4102" class="Postulate">thm-i</a> <a id="4108" class="Symbol">:</a> <a id="4110" class="Symbol">∀</a> <a id="4112" class="Symbol">{</a><a id="4113" href="A202401.Everything.html#4113" class="Bound">ℳ</a> <a id="4115" class="Symbol">:</a> <a id="4117" href="A202401.STLC-Base-WNF-NBE2.html#409" class="Record">Model</a><a id="4122" class="Symbol">}</a> <a id="4124" class="Symbol">{</a><a id="4125" href="A202401.Everything.html#4125" class="Bound">W</a> <a id="4127" class="Symbol">:</a> <a id="4129" href="A202401.STLC-Base-WNF-NBE2.html#440" class="Field">World</a> <a id="4135" href="A202401.Everything.html#4113" class="Bound">ℳ</a><a id="4136" class="Symbol">}</a> <a id="4138" class="Symbol">{</a><a id="4139" href="A202401.Everything.html#4139" class="Bound">Γ</a> <a id="4141" href="A202401.Everything.html#4141" class="Bound">A</a> <a id="4143" href="A202401.Everything.html#4143" class="Bound">B</a><a id="4144" class="Symbol">}</a> <a id="4146" class="Symbol">(</a><a id="4147" href="A202401.Everything.html#4147" class="Bound">t</a> <a id="4149" class="Symbol">:</a> <a id="4151" href="A202401.Everything.html#4139" class="Bound">Γ</a> <a id="4153" href="A202401.Prelude.html#1470" class="InductiveConstructor Operator">,</a> <a id="4155" href="A202401.Everything.html#4141" class="Bound">A</a> <a id="4157" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="4159" href="A202401.Everything.html#4143" class="Bound">B</a><a id="4160" class="Symbol">)</a> <a id="4162" class="Symbol">(</a><a id="4163" href="A202401.Everything.html#4163" class="Bound">s</a> <a id="4165" class="Symbol">:</a> <a id="4167" href="A202401.Everything.html#4139" class="Bound">Γ</a> <a id="4169" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="4171" href="A202401.Everything.html#4141" class="Bound">A</a><a id="4172" class="Symbol">)</a> <a id="4174" class="Symbol">(</a><a id="4175" href="A202401.Everything.html#4175" class="Bound">γ</a> <a id="4177" class="Symbol">:</a> <a id="4179" href="A202401.Everything.html#4113" class="Bound">ℳ</a> <a id="4181" href="A202401.Kit4.html#1740" class="Function Operator">/</a> <a id="4183" href="A202401.Everything.html#4125" class="Bound">W</a> <a id="4185" href="A202401.Kit4.html#1740" class="Function Operator">⊩§</a> <a id="4188" href="A202401.Everything.html#4139" class="Bound">Γ</a><a id="4189" class="Symbol">)</a> <a id="4191" class="Symbol">→</a>
          <a id="4203" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="4205" href="A202401.Everything.html#4147" class="Bound">t</a> <a id="4207" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="4209" class="Symbol">(</a><a id="4210" href="A202401.Everything.html#4175" class="Bound">γ</a> <a id="4212" href="A202401.Kit4.html#1453" class="InductiveConstructor Operator">,</a> <a id="4214" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="4216" href="A202401.Everything.html#4163" class="Bound">s</a> <a id="4218" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="4220" href="A202401.Everything.html#4175" class="Bound">γ</a><a id="4221" class="Symbol">)</a> <a id="4223" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4225" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="4227" href="A202401.Everything.html#4147" class="Bound">t</a> <a id="4229" href="A202401.Kit1.html#2673" class="Function Operator">[</a> <a id="4231" href="A202401.Everything.html#4163" class="Bound">s</a> <a id="4233" href="A202401.Kit1.html#2673" class="Function Operator">]</a> <a id="4235" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="4237" href="A202401.Everything.html#4175" class="Bound">γ</a>

  <a id="4242" class="Comment">-- completeness of definitional equality?</a>
  <a id="thm-j"></a><a id="4286" href="A202401.Everything.html#4286" class="Postulate">thm-j</a> <a id="4292" class="Symbol">:</a> <a id="4294" class="Symbol">∀</a> <a id="4296" class="Symbol">{</a><a id="4297" href="A202401.Everything.html#4297" class="Bound">ℳ</a> <a id="4299" class="Symbol">:</a> <a id="4301" href="A202401.STLC-Base-WNF-NBE2.html#409" class="Record">Model</a><a id="4306" class="Symbol">}</a> <a id="4308" class="Symbol">{</a><a id="4309" href="A202401.Everything.html#4309" class="Bound">W</a> <a id="4311" class="Symbol">:</a> <a id="4313" href="A202401.STLC-Base-WNF-NBE2.html#440" class="Field">World</a> <a id="4319" href="A202401.Everything.html#4297" class="Bound">ℳ</a><a id="4320" class="Symbol">}</a> <a id="4322" class="Symbol">{</a><a id="4323" href="A202401.Everything.html#4323" class="Bound">Γ</a> <a id="4325" href="A202401.Everything.html#4325" class="Bound">A</a><a id="4326" class="Symbol">}</a> <a id="4328" class="Symbol">{</a><a id="4329" href="A202401.Everything.html#4329" class="Bound">t</a> <a id="4331" href="A202401.Everything.html#4331" class="Bound">t′</a> <a id="4334" class="Symbol">:</a> <a id="4336" href="A202401.Everything.html#4323" class="Bound">Γ</a> <a id="4338" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="4340" href="A202401.Everything.html#4325" class="Bound">A</a><a id="4341" class="Symbol">}</a> <a id="4343" class="Symbol">→</a> <a id="4345" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="4347" href="A202401.Everything.html#4329" class="Bound">t</a> <a id="4349" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="4351" class="Symbol">{</a><a id="4352" href="A202401.Everything.html#4297" class="Bound">ℳ</a><a id="4353" class="Symbol">}</a> <a id="4355" class="Symbol">{</a><a id="4356" href="A202401.Everything.html#4309" class="Bound">W</a><a id="4357" class="Symbol">}</a> <a id="4359" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4361" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="4363" href="A202401.Everything.html#4331" class="Bound">t′</a> <a id="4366" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="4368" class="Symbol">→</a> <a id="4370" href="A202401.Everything.html#4329" class="Bound">t</a> <a id="4372" href="A202401.STLC-Base.html#1974" class="Datatype Operator">≝</a> <a id="4374" href="A202401.Everything.html#4331" class="Bound">t′</a>

  <a id="4380" class="Comment">-- Abel p.10: “soundness of definitional equality”</a>
  <a id="thm-k"></a><a id="4433" href="A202401.Everything.html#4433" class="Postulate">thm-k</a> <a id="4439" class="Symbol">:</a> <a id="4441" class="Symbol">∀</a> <a id="4443" class="Symbol">{</a><a id="4444" href="A202401.Everything.html#4444" class="Bound">ℳ</a> <a id="4446" class="Symbol">:</a> <a id="4448" href="A202401.STLC-Base-WNF-NBE2.html#409" class="Record">Model</a><a id="4453" class="Symbol">}</a> <a id="4455" class="Symbol">{</a><a id="4456" href="A202401.Everything.html#4456" class="Bound">W</a> <a id="4458" class="Symbol">:</a> <a id="4460" href="A202401.STLC-Base-WNF-NBE2.html#440" class="Field">World</a> <a id="4466" href="A202401.Everything.html#4444" class="Bound">ℳ</a><a id="4467" class="Symbol">}</a> <a id="4469" class="Symbol">{</a><a id="4470" href="A202401.Everything.html#4470" class="Bound">Γ</a> <a id="4472" href="A202401.Everything.html#4472" class="Bound">A</a><a id="4473" class="Symbol">}</a> <a id="4475" class="Symbol">{</a><a id="4476" href="A202401.Everything.html#4476" class="Bound">t</a> <a id="4478" href="A202401.Everything.html#4478" class="Bound">t′</a> <a id="4481" class="Symbol">:</a> <a id="4483" href="A202401.Everything.html#4470" class="Bound">Γ</a> <a id="4485" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="4487" href="A202401.Everything.html#4472" class="Bound">A</a><a id="4488" class="Symbol">}</a> <a id="4490" class="Symbol">→</a> <a id="4492" href="A202401.Everything.html#4476" class="Bound">t</a> <a id="4494" href="A202401.STLC-Base.html#1974" class="Datatype Operator">≝</a> <a id="4496" href="A202401.Everything.html#4478" class="Bound">t′</a> <a id="4499" class="Symbol">→</a> <a id="4501" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="4503" href="A202401.Everything.html#4476" class="Bound">t</a> <a id="4505" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="4507" class="Symbol">{</a><a id="4508" href="A202401.Everything.html#4444" class="Bound">ℳ</a><a id="4509" class="Symbol">}</a> <a id="4511" class="Symbol">{</a><a id="4512" href="A202401.Everything.html#4456" class="Bound">W</a><a id="4513" class="Symbol">}</a> <a id="4515" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4517" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="4519" href="A202401.Everything.html#4478" class="Bound">t′</a> <a id="4522" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a>

  <a id="4527" class="Comment">-- Coquand p.68: “extensional equality on semantic objects”</a>
  <a id="Eq"></a><a id="4589" href="A202401.Everything.html#4589" class="Postulate">Eq</a> <a id="4592" class="Symbol">:</a> <a id="4594" class="Symbol">∀</a> <a id="4596" class="Symbol">{</a><a id="4597" href="A202401.Everything.html#4597" class="Bound">ℳ</a> <a id="4599" class="Symbol">:</a> <a id="4601" href="A202401.STLC-Base-WNF-NBE2.html#409" class="Record">Model</a><a id="4606" class="Symbol">}</a> <a id="4608" class="Symbol">{</a><a id="4609" href="A202401.Everything.html#4609" class="Bound">W</a> <a id="4611" class="Symbol">:</a> <a id="4613" href="A202401.STLC-Base-WNF-NBE2.html#440" class="Field">World</a> <a id="4619" href="A202401.Everything.html#4597" class="Bound">ℳ</a><a id="4620" class="Symbol">}</a> <a id="4622" href="A202401.Everything.html#4622" class="Bound">A</a> <a id="4624" class="Symbol">→</a> <a id="4626" href="A202401.Everything.html#4597" class="Bound">ℳ</a> <a id="4628" href="A202401.Kit4.html#1647" class="Function Operator">/</a> <a id="4630" href="A202401.Everything.html#4609" class="Bound">W</a> <a id="4632" href="A202401.Kit4.html#1647" class="Function Operator">⊩</a> <a id="4634" href="A202401.Everything.html#4622" class="Bound">A</a> <a id="4636" class="Symbol">→</a> <a id="4638" href="A202401.Everything.html#4597" class="Bound">ℳ</a> <a id="4640" href="A202401.Kit4.html#1647" class="Function Operator">/</a> <a id="4642" href="A202401.Everything.html#4609" class="Bound">W</a> <a id="4644" href="A202401.Kit4.html#1647" class="Function Operator">⊩</a> <a id="4646" href="A202401.Everything.html#4622" class="Bound">A</a> <a id="4648" class="Symbol">→</a> <a id="4650" href="Agda.Primitive.html#388" class="Primitive">Set</a>

  <a id="4657" class="Comment">-- Coquand p.73</a>
  <a id="thm-1"></a><a id="4675" href="A202401.Everything.html#4675" class="Postulate">thm-1</a> <a id="4681" class="Symbol">:</a> <a id="4683" class="Symbol">∀</a> <a id="4685" class="Symbol">{</a><a id="4686" href="A202401.Everything.html#4686" class="Bound">Γ</a> <a id="4688" href="A202401.Everything.html#4688" class="Bound">A</a><a id="4689" class="Symbol">}</a> <a id="4691" class="Symbol">{</a><a id="4692" href="A202401.Everything.html#4692" class="Bound">v</a> <a id="4694" href="A202401.Everything.html#4694" class="Bound">v′</a> <a id="4697" class="Symbol">:</a> <a id="4699" href="A202401.STLC-Base-WNF-NBE2.html#1313" class="Function">𝒞</a> <a id="4701" href="A202401.Kit4.html#1647" class="Function Operator">/</a> <a id="4703" href="A202401.Everything.html#4686" class="Bound">Γ</a> <a id="4705" href="A202401.Kit4.html#1647" class="Function Operator">⊩</a> <a id="4707" href="A202401.Everything.html#4688" class="Bound">A</a><a id="4708" class="Symbol">}</a> <a id="4710" class="Symbol">→</a> <a id="4712" href="A202401.Everything.html#4589" class="Postulate">Eq</a> <a id="4715" href="A202401.Everything.html#4688" class="Bound">A</a> <a id="4717" href="A202401.Everything.html#4692" class="Bound">v</a> <a id="4719" href="A202401.Everything.html#4694" class="Bound">v′</a> <a id="4722" class="Symbol">→</a> <a id="4724" href="A202401.STLC-Base-WNF-NBE2.html#1723" class="Function">↓</a> <a id="4726" class="Symbol">{</a><a id="4727" href="A202401.Everything.html#4688" class="Bound">A</a><a id="4728" class="Symbol">}</a> <a id="4730" href="A202401.Everything.html#4692" class="Bound">v</a> <a id="4732" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4734" href="A202401.STLC-Base-WNF-NBE2.html#1723" class="Function">↓</a> <a id="4736" href="A202401.Everything.html#4694" class="Bound">v′</a>

  <a id="4742" class="Comment">-- Coquand p.73</a>
  <a id="cor-1"></a><a id="4760" href="A202401.Everything.html#4760" class="Postulate">cor-1</a> <a id="4766" class="Symbol">:</a> <a id="4768" class="Symbol">∀</a> <a id="4770" class="Symbol">{</a><a id="4771" href="A202401.Everything.html#4771" class="Bound">Γ</a> <a id="4773" href="A202401.Everything.html#4773" class="Bound">A</a><a id="4774" class="Symbol">}</a> <a id="4776" class="Symbol">(</a><a id="4777" href="A202401.Everything.html#4777" class="Bound">t</a> <a id="4779" href="A202401.Everything.html#4779" class="Bound">t′</a> <a id="4782" class="Symbol">:</a> <a id="4784" href="A202401.Everything.html#4771" class="Bound">Γ</a> <a id="4786" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="4788" href="A202401.Everything.html#4773" class="Bound">A</a><a id="4789" class="Symbol">)</a> <a id="4791" class="Symbol">→</a> <a id="4793" href="A202401.Everything.html#4589" class="Postulate">Eq</a> <a id="4796" href="A202401.Everything.html#4773" class="Bound">A</a> <a id="4798" class="Symbol">(</a><a id="4799" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="4801" href="A202401.Everything.html#4777" class="Bound">t</a> <a id="4803" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="4805" href="A202401.STLC-Base-WNF-NBE2.html#1917" class="Function">vid§</a><a id="4809" class="Symbol">)</a> <a id="4811" class="Symbol">(</a><a id="4812" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="4814" href="A202401.Everything.html#4779" class="Bound">t′</a> <a id="4817" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="4819" href="A202401.STLC-Base-WNF-NBE2.html#1917" class="Function">vid§</a><a id="4823" class="Symbol">)</a> <a id="4825" class="Symbol">→</a> <a id="4827" href="A202401.STLC-Base-WNF-NBE2.html#2084" class="Function">nbe</a> <a id="4831" href="A202401.Everything.html#4777" class="Bound">t</a> <a id="4833" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4835" href="A202401.STLC-Base-WNF-NBE2.html#2084" class="Function">nbe</a> <a id="4839" href="A202401.Everything.html#4779" class="Bound">t′</a>

  <a id="4845" class="Comment">-- Abel p.10: “soundness”, “normalization is compatible with definitional equality”</a>
  <a id="4931" class="Comment">-- Coquand p.74</a>
  <a id="4949" class="Comment">-- Kovacs p.45: “completeness”</a>
  <a id="thm-2"></a><a id="4982" href="A202401.Everything.html#4982" class="Postulate">thm-2</a> <a id="4988" class="Symbol">:</a> <a id="4990" class="Symbol">∀</a> <a id="4992" class="Symbol">{</a><a id="4993" href="A202401.Everything.html#4993" class="Bound">Γ</a> <a id="4995" href="A202401.Everything.html#4995" class="Bound">A</a><a id="4996" class="Symbol">}</a> <a id="4998" class="Symbol">(</a><a id="4999" href="A202401.Everything.html#4999" class="Bound">t</a> <a id="5001" class="Symbol">:</a> <a id="5003" href="A202401.Everything.html#4993" class="Bound">Γ</a> <a id="5005" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="5007" href="A202401.Everything.html#4995" class="Bound">A</a><a id="5008" class="Symbol">)</a> <a id="5010" class="Symbol">→</a> <a id="5012" href="A202401.Everything.html#4999" class="Bound">t</a> <a id="5014" href="A202401.STLC-Base.html#1974" class="Datatype Operator">≝</a> <a id="5016" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="5020" class="Symbol">(</a><a id="5021" href="A202401.STLC-Base-WNF-NBE2.html#2084" class="Function">nbe</a> <a id="5025" href="A202401.Everything.html#4999" class="Bound">t</a><a id="5026" class="Symbol">)</a>

  <a id="5031" class="Comment">-- Coquand p.75: “completeness of conversion rules”</a>
  <a id="thm-3"></a><a id="5085" href="A202401.Everything.html#5085" class="Postulate">thm-3</a> <a id="5091" class="Symbol">:</a> <a id="5093" class="Symbol">∀</a> <a id="5095" class="Symbol">{</a><a id="5096" href="A202401.Everything.html#5096" class="Bound">Γ</a> <a id="5098" href="A202401.Everything.html#5098" class="Bound">A</a><a id="5099" class="Symbol">}</a> <a id="5101" class="Symbol">(</a><a id="5102" href="A202401.Everything.html#5102" class="Bound">t</a> <a id="5104" href="A202401.Everything.html#5104" class="Bound">t′</a> <a id="5107" class="Symbol">:</a> <a id="5109" href="A202401.Everything.html#5096" class="Bound">Γ</a> <a id="5111" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="5113" href="A202401.Everything.html#5098" class="Bound">A</a><a id="5114" class="Symbol">)</a> <a id="5116" class="Symbol">→</a> <a id="5118" href="A202401.Everything.html#4589" class="Postulate">Eq</a> <a id="5121" href="A202401.Everything.html#5098" class="Bound">A</a> <a id="5123" class="Symbol">(</a><a id="5124" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="5126" href="A202401.Everything.html#5102" class="Bound">t</a> <a id="5128" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="5130" href="A202401.STLC-Base-WNF-NBE2.html#1917" class="Function">vid§</a><a id="5134" class="Symbol">)</a> <a id="5136" class="Symbol">(</a><a id="5137" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="5139" href="A202401.Everything.html#5104" class="Bound">t′</a> <a id="5142" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="5144" href="A202401.STLC-Base-WNF-NBE2.html#1917" class="Function">vid§</a><a id="5148" class="Symbol">)</a> <a id="5150" class="Symbol">→</a> <a id="5152" href="A202401.Everything.html#5102" class="Bound">t</a> <a id="5154" href="A202401.STLC-Base.html#1974" class="Datatype Operator">≝</a> <a id="5156" href="A202401.Everything.html#5104" class="Bound">t′</a>

  <a id="5162" class="Comment">-- Coquand p.76: “soundness of conversion rules”</a>
  <a id="thm-4"></a><a id="5213" href="A202401.Everything.html#5213" class="Postulate">thm-4</a> <a id="5219" class="Symbol">:</a> <a id="5221" class="Symbol">∀</a> <a id="5223" class="Symbol">{</a><a id="5224" href="A202401.Everything.html#5224" class="Bound">ℳ</a> <a id="5226" class="Symbol">:</a> <a id="5228" href="A202401.STLC-Base-WNF-NBE2.html#409" class="Record">Model</a><a id="5233" class="Symbol">}</a> <a id="5235" class="Symbol">{</a><a id="5236" href="A202401.Everything.html#5236" class="Bound">W</a> <a id="5238" class="Symbol">:</a> <a id="5240" href="A202401.STLC-Base-WNF-NBE2.html#440" class="Field">World</a> <a id="5246" href="A202401.Everything.html#5224" class="Bound">ℳ</a><a id="5247" class="Symbol">}</a> <a id="5249" class="Symbol">{</a><a id="5250" href="A202401.Everything.html#5250" class="Bound">Γ</a> <a id="5252" href="A202401.Everything.html#5252" class="Bound">A</a><a id="5253" class="Symbol">}</a> <a id="5255" class="Symbol">(</a><a id="5256" href="A202401.Everything.html#5256" class="Bound">t</a> <a id="5258" href="A202401.Everything.html#5258" class="Bound">t′</a> <a id="5261" class="Symbol">:</a> <a id="5263" href="A202401.Everything.html#5250" class="Bound">Γ</a> <a id="5265" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="5267" href="A202401.Everything.html#5252" class="Bound">A</a><a id="5268" class="Symbol">)</a> <a id="5270" class="Symbol">(</a><a id="5271" href="A202401.Everything.html#5271" class="Bound">γ</a> <a id="5273" class="Symbol">:</a> <a id="5275" href="A202401.Everything.html#5224" class="Bound">ℳ</a> <a id="5277" href="A202401.Kit4.html#1740" class="Function Operator">/</a> <a id="5279" href="A202401.Everything.html#5236" class="Bound">W</a> <a id="5281" href="A202401.Kit4.html#1740" class="Function Operator">⊩§</a> <a id="5284" href="A202401.Everything.html#5250" class="Bound">Γ</a><a id="5285" class="Symbol">)</a> <a id="5287" class="Symbol">→</a> <a id="5289" href="A202401.Everything.html#5256" class="Bound">t</a> <a id="5291" href="A202401.STLC-Base.html#1974" class="Datatype Operator">≝</a> <a id="5293" href="A202401.Everything.html#5258" class="Bound">t′</a> <a id="5296" class="Symbol">→</a>
         <a id="5307" href="A202401.Everything.html#4589" class="Postulate">Eq</a> <a id="5310" href="A202401.Everything.html#5252" class="Bound">A</a> <a id="5312" class="Symbol">(</a><a id="5313" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="5315" href="A202401.Everything.html#5256" class="Bound">t</a> <a id="5317" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="5319" href="A202401.Everything.html#5271" class="Bound">γ</a><a id="5320" class="Symbol">)</a> <a id="5322" class="Symbol">(</a><a id="5323" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟦</a> <a id="5325" href="A202401.Everything.html#5258" class="Bound">t′</a> <a id="5328" href="A202401.STLC-Base-WNF-NBE2.html#1044" class="Function Operator">⟧</a> <a id="5330" href="A202401.Everything.html#5271" class="Bound">γ</a><a id="5331" class="Symbol">)</a>

  <a id="5336" class="Comment">-- Coquand p.76: “correctness [soundness?] of decision algorithm for conversion”</a>
  <a id="thm-5"></a><a id="5419" href="A202401.Everything.html#5419" class="Postulate">thm-5</a> <a id="5425" class="Symbol">:</a> <a id="5427" class="Symbol">∀</a> <a id="5429" class="Symbol">{</a><a id="5430" href="A202401.Everything.html#5430" class="Bound">Γ</a> <a id="5432" href="A202401.Everything.html#5432" class="Bound">A</a><a id="5433" class="Symbol">}</a> <a id="5435" class="Symbol">(</a><a id="5436" href="A202401.Everything.html#5436" class="Bound">t</a> <a id="5438" href="A202401.Everything.html#5438" class="Bound">t′</a> <a id="5441" class="Symbol">:</a> <a id="5443" href="A202401.Everything.html#5430" class="Bound">Γ</a> <a id="5445" href="A202401.STLC-Base.html#457" class="Datatype Operator">⊢</a> <a id="5447" href="A202401.Everything.html#5432" class="Bound">A</a><a id="5448" class="Symbol">)</a> <a id="5450" class="Symbol">→</a> <a id="5452" href="A202401.STLC-Base-WNF-NBE2.html#2084" class="Function">nbe</a> <a id="5456" href="A202401.Everything.html#5436" class="Bound">t</a> <a id="5458" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5460" href="A202401.STLC-Base-WNF-NBE2.html#2084" class="Function">nbe</a> <a id="5464" href="A202401.Everything.html#5438" class="Bound">t′</a> <a id="5467" class="Symbol">→</a> <a id="5469" href="A202401.Everything.html#5436" class="Bound">t</a> <a id="5471" href="A202401.STLC-Base.html#1974" class="Datatype Operator">≝</a> <a id="5473" href="A202401.Everything.html#5438" class="Bound">t′</a>

  <a id="lem-t"></a><a id="5479" href="A202401.Everything.html#5479" class="Postulate">lem-t</a> <a id="5485" class="Symbol">:</a> <a id="5487" class="Symbol">∀</a> <a id="5489" class="Symbol">{</a><a id="5490" href="A202401.Everything.html#5490" class="Bound">Γ</a><a id="5491" class="Symbol">}</a> <a id="5493" class="Symbol">→</a> <a id="5495" href="A202401.STLC-Base-WNF-NBE2.html#1917" class="Function">vid§</a> <a id="5500" class="Symbol">{</a><a id="5501" class="Argument">Γ</a> <a id="5503" class="Symbol">=</a> <a id="5505" href="A202401.Everything.html#5490" class="Bound">Γ</a><a id="5506" class="Symbol">}</a> <a id="5508" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5510" href="A202401.Kit4.html#1510" class="Function">vren§</a> <a id="5516" class="Symbol">(</a><a id="5517" href="A202401.STLC-Base-WNF-NBE2.html#490" class="Field">refl≤</a> <a id="5523" href="A202401.STLC-Base-WNF-NBE2.html#1313" class="Function">𝒞</a><a id="5524" class="Symbol">)</a> <a id="5526" href="A202401.STLC-Base-WNF-NBE2.html#1917" class="Function">vid§</a>

<a id="5532" class="Comment">-- -- Abel p.10: “completeness”, “definitionally equal terms have identical normal forms”</a>
<a id="5622" class="Comment">-- -- Coquand p.76: “completeness of decision algorithm for conversion”</a>
<a id="5694" class="Comment">-- -- Kovacs p.52: “soundness”</a>
<a id="5725" class="Comment">-- module _ where</a>
<a id="5743" class="Comment">--   open ≡-Reasoning</a>

<a id="5766" class="Comment">--   thm-6 : ∀ {Γ A} {t t′ : Γ ⊢ A} → t ≝ t′ → nbe t ≡ nbe t′</a>
<a id="5828" class="Comment">--   thm-6 refl≝             = refl</a>
<a id="5864" class="Comment">--   thm-6 (sym≝ deq)        with thm-k deq</a>
<a id="5908" class="Comment">--   ... | eq                  = (λ v → ↓ (v vid§)) &amp; eq ⁻¹</a>
<a id="5968" class="Comment">--   thm-6 (trans≝ deq deq′) with thm-k deq | thm-k deq′</a>
<a id="6025" class="Comment">--   ... | eq | eq′            = (λ v → ↓ (v vid§)) &amp; (eq ⋮ eq′)</a>
<a id="6090" class="Comment">--   thm-6 {Γ} (congλ deq)   with thm-k {ℳ = 𝒞} {W = Γ} deq -- TODO</a>
<a id="6158" class="Comment">--   ... | eq                  = {!!}</a>
<a id="6196" class="Comment">--   thm-6 (cong$ {t₁ = t₁} {t₁′} {t₂} {t₂′} deq₁ deq₂) with thm-k deq₁ | thm-k deq₂</a>
<a id="6281" class="Comment">--   ... | eq | eq′ = ↓ &amp; (</a>
<a id="6309" class="Comment">--       begin</a>
<a id="6324" class="Comment">--         ⟦ t₁ ⟧ vid§ id⊑ (⟦ t₂ ⟧ vid§)</a>
<a id="6365" class="Comment">--       ≡⟨ ⟦ t₁ ⟧ vid§ id⊑ &amp; congapp eq′ vid§ ⟩</a>
<a id="6414" class="Comment">--         ⟦ t₁ ⟧ vid§ id⊑ (⟦ t₂′ ⟧ vid§)</a>
<a id="6456" class="Comment">--       ≡⟨ congapp (congapp (congapp′ (congapp eq vid§)) id⊑) (⟦ t₂′ ⟧ vid§) ⟩</a>
<a id="6536" class="Comment">--         ⟦ t₁′ ⟧ vid§ id⊑ (⟦ t₂′ ⟧ vid§)</a>
<a id="6579" class="Comment">--       ∎)</a>
<a id="6591" class="Comment">--   thm-6 (βred⊃ {t₁ = t₁} {t₂} refl) = ↓ &amp; (</a>
<a id="6638" class="Comment">--       begin</a>
<a id="6653" class="Comment">--         ⟦ ⌜λ⌝ t₁ ⌜$⌝ t₂ ⟧ vid§</a>
<a id="6687" class="Comment">--       ≡⟨⟩</a>
<a id="6700" class="Comment">--         ⟦ t₁ ⟧ (vren§ id⊑ vid§ , ⟦ t₂ ⟧ vid§)</a>
<a id="6749" class="Comment">--       ≡⟨ (λ γ → ⟦ t₁ ⟧ (γ , ⟦ t₂ ⟧ vid§)) &amp; lem-t ⁻¹ ⟩</a>
<a id="6807" class="Comment">--         ⟦ t₁ ⟧ (vid§ , ⟦ t₂ ⟧ vid§)</a>
<a id="6846" class="Comment">--       ≡⟨ thm-i t₁ t₂ vid§ ⟩</a>
<a id="6877" class="Comment">--         ⟦ t₁ [ t₂ ] ⟧ vid§</a>
<a id="6907" class="Comment">--       ∎)</a>
<a id="6919" class="Comment">--   thm-6 {Γ} (ηexp⊃ refl) = {!!} -- TODO</a>

<a id="6963" class="Comment">-- -- Kovacs p.59: “decision procedure for conversion”</a>
<a id="7018" class="Comment">-- module _ where</a>
<a id="7036" class="Comment">--   open ≝-Reasoning</a>

<a id="7059" class="Comment">--   _≝?_ : ∀ {Γ A} (t t′ : Γ ⊢ A) → Dec (t ≝ t′)</a>
<a id="7109" class="Comment">--   t ≝? t′      with fst (nbe t) ≟ fst (nbe t′)</a>
<a id="7159" class="Comment">--   ... | no ¬eq   = no λ eq → (fst &amp; thm-6 eq) ↯ ¬eq</a>
<a id="7214" class="Comment">--   ... | yes eq   = yes (</a>
<a id="7242" class="Comment">--       begin</a>
<a id="7257" class="Comment">--         t</a>
<a id="7270" class="Comment">--       ≝⟨ thm-2 t ⟩</a>
<a id="7292" class="Comment">--         fst (nbe t)</a>
<a id="7315" class="Comment">--       ≡⟨ eq ⟩</a>
<a id="7332" class="Comment">--         fst (nbe t′)</a>
<a id="7356" class="Comment">--       ≝˘⟨ thm-2 t′ ⟩</a>
<a id="7380" class="Comment">--         t′</a>
<a id="7394" class="Comment">--       ∎)</a>


<a id="7408" class="Comment">-- ----------------------------------------------------------------------------------------------------</a>
</pre></body></html>