<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>A201607.WIP2.BasicICML.Sketch2</title><link rel="stylesheet" href="mi-common.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--sized-types</a> <a id="27" class="Symbol">#-}</a>

<a id="32" class="Keyword">module</a> <a id="39" href="A201607.WIP2.BasicICML.Sketch2.html" class="Module">A201607.WIP2.BasicICML.Sketch2</a> <a id="70" class="Keyword">where</a>

<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="A201607.BasicICML.Syntax.DyadicGentzen.html" class="Module">A201607.BasicICML.Syntax.DyadicGentzen</a> <a id="128" class="Keyword">hiding</a> <a id="135" class="Symbol">(</a><a id="136" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="138" class="Symbol">;</a> <a id="140" href="A201607.Common.html#411" class="Function">𝟘</a> <a id="142" class="Symbol">;</a> <a id="144" href="Agda.Builtin.Unit.html#175" class="Record">𝟙</a><a id="145" class="Symbol">)</a> <a id="147" class="Keyword">public</a>

<a id="155" class="Keyword">infixl</a> <a id="162" class="Number">3</a> <a id="164" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">_+_</a>
<a id="168" class="Keyword">postulate</a>
  <a id="ℕ"></a><a id="180" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a> <a id="182" class="Symbol">:</a> <a id="184" href="A201607.BasicICML.Syntax.Common.html#360" class="Datatype">Ty</a>
  <a id="𝟘"></a><a id="189" href="A201607.WIP2.BasicICML.Sketch2.html#189" class="Postulate">𝟘</a> <a id="𝟙"></a><a id="191" href="A201607.WIP2.BasicICML.Sketch2.html#191" class="Postulate">𝟙</a> <a id="𝟚"></a><a id="193" href="A201607.WIP2.BasicICML.Sketch2.html#193" class="Postulate">𝟚</a> <a id="𝟛"></a><a id="195" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a> <a id="𝟞"></a><a id="197" href="A201607.WIP2.BasicICML.Sketch2.html#197" class="Postulate">𝟞</a> <a id="199" class="Symbol">:</a> <a id="201" class="Symbol">∀</a> <a id="203" class="Symbol">{</a><a id="204" href="A201607.WIP2.BasicICML.Sketch2.html#204" class="Bound">Γ</a> <a id="206" href="A201607.WIP2.BasicICML.Sketch2.html#206" class="Bound">Δ</a><a id="207" class="Symbol">}</a> <a id="209" class="Symbol">→</a> <a id="211" href="A201607.WIP2.BasicICML.Sketch2.html#204" class="Bound">Γ</a> <a id="213" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="215" href="A201607.WIP2.BasicICML.Sketch2.html#206" class="Bound">Δ</a> <a id="217" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="219" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
  <a id="_+_"></a><a id="223" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">_+_</a> <a id="227" class="Symbol">:</a> <a id="229" class="Symbol">∀</a> <a id="231" class="Symbol">{</a><a id="232" href="A201607.WIP2.BasicICML.Sketch2.html#232" class="Bound">Γ</a> <a id="234" href="A201607.WIP2.BasicICML.Sketch2.html#234" class="Bound">Δ</a><a id="235" class="Symbol">}</a> <a id="237" class="Symbol">→</a> <a id="239" href="A201607.WIP2.BasicICML.Sketch2.html#232" class="Bound">Γ</a> <a id="241" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="243" href="A201607.WIP2.BasicICML.Sketch2.html#234" class="Bound">Δ</a> <a id="245" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="247" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a> <a id="249" class="Symbol">→</a> <a id="251" href="A201607.WIP2.BasicICML.Sketch2.html#232" class="Bound">Γ</a> <a id="253" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="255" href="A201607.WIP2.BasicICML.Sketch2.html#234" class="Bound">Δ</a> <a id="257" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="259" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a> <a id="261" class="Symbol">→</a> <a id="263" href="A201607.WIP2.BasicICML.Sketch2.html#232" class="Bound">Γ</a> <a id="265" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="267" href="A201607.WIP2.BasicICML.Sketch2.html#234" class="Bound">Δ</a> <a id="269" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="271" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>

<a id="274" class="Comment">-- Let’s say we have a simple expression referencing a free variable.</a>

<a id="e₁"></a><a id="345" href="A201607.WIP2.BasicICML.Sketch2.html#345" class="Function">e₁</a> <a id="348" class="Symbol">:</a> <a id="350" class="Symbol">∀</a> <a id="352" class="Symbol">{</a><a id="353" href="A201607.WIP2.BasicICML.Sketch2.html#353" class="Bound">Γ</a> <a id="355" href="A201607.WIP2.BasicICML.Sketch2.html#355" class="Bound">Δ</a><a id="356" class="Symbol">}</a> <a id="358" class="Symbol">→</a> <a id="360" href="A201607.WIP2.BasicICML.Sketch2.html#353" class="Bound">Γ</a> <a id="362" class="InductiveConstructor Operator">,</a> <a id="364" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a> <a id="366" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="368" href="A201607.WIP2.BasicICML.Sketch2.html#355" class="Bound">Δ</a> <a id="370" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="372" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="374" href="A201607.WIP2.BasicICML.Sketch2.html#345" class="Function">e₁</a> <a id="377" class="Symbol">=</a> <a id="379" href="A201607.WIP2.BasicICML.Sketch2.html#191" class="Postulate">𝟙</a> <a id="381" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="383" href="A201607.WIP2.BasicICML.Sketch2.html#193" class="Postulate">𝟚</a> <a id="385" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="387" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2769" class="Function">v₀</a>

<a id="391" class="Comment">-- We can partially normalise the expression without having to substitute the</a>
<a id="469" class="Comment">-- variable away.</a>

<a id="ne₁"></a><a id="488" href="A201607.WIP2.BasicICML.Sketch2.html#488" class="Function">ne₁</a> <a id="492" class="Symbol">:</a> <a id="494" class="Symbol">∀</a> <a id="496" class="Symbol">{</a><a id="497" href="A201607.WIP2.BasicICML.Sketch2.html#497" class="Bound">Γ</a> <a id="499" href="A201607.WIP2.BasicICML.Sketch2.html#499" class="Bound">Δ</a><a id="500" class="Symbol">}</a> <a id="502" class="Symbol">→</a> <a id="504" href="A201607.WIP2.BasicICML.Sketch2.html#497" class="Bound">Γ</a> <a id="506" class="InductiveConstructor Operator">,</a> <a id="508" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a> <a id="510" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="512" href="A201607.WIP2.BasicICML.Sketch2.html#499" class="Bound">Δ</a> <a id="514" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="516" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="518" href="A201607.WIP2.BasicICML.Sketch2.html#488" class="Function">ne₁</a> <a id="522" class="Symbol">=</a> <a id="524" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a> <a id="526" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="528" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2769" class="Function">v₀</a>

<a id="532" class="Comment">-- In ICML, we can quote expressions with free variables.  Therefore, if we can</a>
<a id="612" class="Comment">-- check quoted expressions for α-equivalence, we can distinguish between the</a>
<a id="690" class="Comment">-- original and the partially-normalised version of the expression.</a>

<a id="qe₁"></a><a id="759" href="A201607.WIP2.BasicICML.Sketch2.html#759" class="Function">qe₁</a> <a id="763" class="Symbol">:</a> <a id="765" class="Symbol">∀</a> <a id="767" class="Symbol">{</a><a id="768" href="A201607.WIP2.BasicICML.Sketch2.html#768" class="Bound">Γ</a> <a id="770" href="A201607.WIP2.BasicICML.Sketch2.html#770" class="Bound">Δ</a><a id="771" class="Symbol">}</a> <a id="773" class="Symbol">→</a> <a id="775" href="A201607.WIP2.BasicICML.Sketch2.html#768" class="Bound">Γ</a> <a id="777" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="779" href="A201607.WIP2.BasicICML.Sketch2.html#770" class="Bound">Δ</a> <a id="781" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="783" class="InductiveConstructor Operator">[</a> <a id="785" class="InductiveConstructor">∅</a> <a id="787" class="InductiveConstructor Operator">,</a> <a id="789" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a> <a id="791" class="InductiveConstructor Operator">]</a> <a id="793" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="795" href="A201607.WIP2.BasicICML.Sketch2.html#759" class="Function">qe₁</a> <a id="799" class="Symbol">=</a> <a id="801" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="805" class="Symbol">(</a><a id="806" href="A201607.WIP2.BasicICML.Sketch2.html#191" class="Postulate">𝟙</a> <a id="808" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="810" href="A201607.WIP2.BasicICML.Sketch2.html#193" class="Postulate">𝟚</a> <a id="812" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="814" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2769" class="Function">v₀</a><a id="816" class="Symbol">)</a>

<a id="qne₁"></a><a id="819" href="A201607.WIP2.BasicICML.Sketch2.html#819" class="Function">qne₁</a> <a id="824" class="Symbol">:</a> <a id="826" class="Symbol">∀</a> <a id="828" class="Symbol">{</a><a id="829" href="A201607.WIP2.BasicICML.Sketch2.html#829" class="Bound">Γ</a> <a id="831" href="A201607.WIP2.BasicICML.Sketch2.html#831" class="Bound">Δ</a><a id="832" class="Symbol">}</a> <a id="834" class="Symbol">→</a> <a id="836" href="A201607.WIP2.BasicICML.Sketch2.html#829" class="Bound">Γ</a> <a id="838" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="840" href="A201607.WIP2.BasicICML.Sketch2.html#831" class="Bound">Δ</a> <a id="842" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="844" class="InductiveConstructor Operator">[</a> <a id="846" class="InductiveConstructor">∅</a> <a id="848" class="InductiveConstructor Operator">,</a> <a id="850" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a> <a id="852" class="InductiveConstructor Operator">]</a> <a id="854" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="856" href="A201607.WIP2.BasicICML.Sketch2.html#819" class="Function">qne₁</a> <a id="861" class="Symbol">=</a> <a id="863" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="867" class="Symbol">(</a><a id="868" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a> <a id="870" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="872" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2769" class="Function">v₀</a><a id="874" class="Symbol">)</a>

<a id="877" class="Comment">-- We can also consider the free variable as a reference to a previously</a>
<a id="950" class="Comment">-- introduced definition, by replacing it with a free meta-variable.</a>

<a id="e₂"></a><a id="1020" href="A201607.WIP2.BasicICML.Sketch2.html#1020" class="Function">e₂</a> <a id="1023" class="Symbol">:</a> <a id="1025" class="Symbol">∀</a> <a id="1027" class="Symbol">{</a><a id="1028" href="A201607.WIP2.BasicICML.Sketch2.html#1028" class="Bound">Γ</a> <a id="1030" href="A201607.WIP2.BasicICML.Sketch2.html#1030" class="Bound">Δ</a><a id="1031" class="Symbol">}</a> <a id="1033" class="Symbol">→</a> <a id="1035" href="A201607.WIP2.BasicICML.Sketch2.html#1028" class="Bound">Γ</a> <a id="1037" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="1039" href="A201607.WIP2.BasicICML.Sketch2.html#1030" class="Bound">Δ</a> <a id="1041" class="InductiveConstructor Operator">,</a> <a id="1043" class="InductiveConstructor Operator">[</a> <a id="1045" class="InductiveConstructor">∅</a> <a id="1047" class="InductiveConstructor Operator">]</a> <a id="1049" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a> <a id="1051" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="1053" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="1055" href="A201607.WIP2.BasicICML.Sketch2.html#1020" class="Function">e₂</a> <a id="1058" class="Symbol">=</a> <a id="1060" href="A201607.WIP2.BasicICML.Sketch2.html#191" class="Postulate">𝟙</a> <a id="1062" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1064" href="A201607.WIP2.BasicICML.Sketch2.html#193" class="Postulate">𝟚</a> <a id="1066" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1068" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2919" class="Function">mv₀</a> <a id="1072" href="A201607.BasicICML.Syntax.DyadicGentzen.html#1039" class="InductiveConstructor">∙</a>

<a id="ne₂"></a><a id="1075" href="A201607.WIP2.BasicICML.Sketch2.html#1075" class="Function">ne₂</a> <a id="1079" class="Symbol">:</a> <a id="1081" class="Symbol">∀</a> <a id="1083" class="Symbol">{</a><a id="1084" href="A201607.WIP2.BasicICML.Sketch2.html#1084" class="Bound">Γ</a> <a id="1086" href="A201607.WIP2.BasicICML.Sketch2.html#1086" class="Bound">Δ</a><a id="1087" class="Symbol">}</a> <a id="1089" class="Symbol">→</a> <a id="1091" href="A201607.WIP2.BasicICML.Sketch2.html#1084" class="Bound">Γ</a> <a id="1093" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="1095" href="A201607.WIP2.BasicICML.Sketch2.html#1086" class="Bound">Δ</a> <a id="1097" class="InductiveConstructor Operator">,</a> <a id="1099" class="InductiveConstructor Operator">[</a> <a id="1101" class="InductiveConstructor">∅</a> <a id="1103" class="InductiveConstructor Operator">]</a> <a id="1105" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a> <a id="1107" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="1109" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="1111" href="A201607.WIP2.BasicICML.Sketch2.html#1075" class="Function">ne₂</a> <a id="1115" class="Symbol">=</a> <a id="1117" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a> <a id="1119" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1121" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2919" class="Function">mv₀</a> <a id="1125" href="A201607.BasicICML.Syntax.DyadicGentzen.html#1039" class="InductiveConstructor">∙</a>

<a id="1128" class="Comment">-- TODO: Unclear whether free meta-variables should or should not be listed in</a>
<a id="1207" class="Comment">-- the type of quoted expressions.</a>

<a id="qe₂"></a><a id="1243" href="A201607.WIP2.BasicICML.Sketch2.html#1243" class="Function">qe₂</a> <a id="1247" class="Symbol">:</a> <a id="1249" class="Symbol">∀</a> <a id="1251" class="Symbol">{</a><a id="1252" href="A201607.WIP2.BasicICML.Sketch2.html#1252" class="Bound">Γ</a> <a id="1254" href="A201607.WIP2.BasicICML.Sketch2.html#1254" class="Bound">Δ</a><a id="1255" class="Symbol">}</a> <a id="1257" class="Symbol">→</a> <a id="1259" href="A201607.WIP2.BasicICML.Sketch2.html#1252" class="Bound">Γ</a> <a id="1261" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="1263" href="A201607.WIP2.BasicICML.Sketch2.html#1254" class="Bound">Δ</a> <a id="1265" class="InductiveConstructor Operator">,</a> <a id="1267" class="InductiveConstructor Operator">[</a> <a id="1269" class="InductiveConstructor">∅</a> <a id="1271" class="InductiveConstructor Operator">]</a> <a id="1273" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a> <a id="1275" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="1277" class="InductiveConstructor Operator">[</a> <a id="1279" class="InductiveConstructor">∅</a> <a id="1281" class="InductiveConstructor Operator">]</a> <a id="1283" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="1285" href="A201607.WIP2.BasicICML.Sketch2.html#1243" class="Function">qe₂</a> <a id="1289" class="Symbol">=</a> <a id="1291" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="1295" class="Symbol">(</a><a id="1296" href="A201607.WIP2.BasicICML.Sketch2.html#191" class="Postulate">𝟙</a> <a id="1298" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1300" href="A201607.WIP2.BasicICML.Sketch2.html#193" class="Postulate">𝟚</a> <a id="1302" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1304" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2919" class="Function">mv₀</a> <a id="1308" href="A201607.BasicICML.Syntax.DyadicGentzen.html#1039" class="InductiveConstructor">∙</a><a id="1309" class="Symbol">)</a>

<a id="qne₂"></a><a id="1312" href="A201607.WIP2.BasicICML.Sketch2.html#1312" class="Function">qne₂</a> <a id="1317" class="Symbol">:</a> <a id="1319" class="Symbol">∀</a> <a id="1321" class="Symbol">{</a><a id="1322" href="A201607.WIP2.BasicICML.Sketch2.html#1322" class="Bound">Γ</a> <a id="1324" href="A201607.WIP2.BasicICML.Sketch2.html#1324" class="Bound">Δ</a><a id="1325" class="Symbol">}</a> <a id="1327" class="Symbol">→</a> <a id="1329" href="A201607.WIP2.BasicICML.Sketch2.html#1322" class="Bound">Γ</a> <a id="1331" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="1333" href="A201607.WIP2.BasicICML.Sketch2.html#1324" class="Bound">Δ</a> <a id="1335" class="InductiveConstructor Operator">,</a> <a id="1337" class="InductiveConstructor Operator">[</a> <a id="1339" class="InductiveConstructor">∅</a> <a id="1341" class="InductiveConstructor Operator">]</a> <a id="1343" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a> <a id="1345" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="1347" class="InductiveConstructor Operator">[</a> <a id="1349" class="InductiveConstructor">∅</a> <a id="1351" class="InductiveConstructor Operator">]</a> <a id="1353" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="1355" href="A201607.WIP2.BasicICML.Sketch2.html#1312" class="Function">qne₂</a> <a id="1360" class="Symbol">=</a> <a id="1362" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="1366" class="Symbol">(</a><a id="1367" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a> <a id="1369" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1371" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2919" class="Function">mv₀</a> <a id="1375" href="A201607.BasicICML.Syntax.DyadicGentzen.html#1039" class="InductiveConstructor">∙</a><a id="1376" class="Symbol">)</a>

<a id="1379" class="Comment">-- Let’s say we have previously introduced a definition of 3, and we want to</a>
<a id="1456" class="Comment">-- reference it in our expression in a manner similar to let-binding, that is:</a>
<a id="1535" class="Comment">--   let three = 3 in 1 + 2 + three</a>

<a id="e₃"></a><a id="1572" href="A201607.WIP2.BasicICML.Sketch2.html#1572" class="Function">e₃</a> <a id="1575" class="Symbol">:</a> <a id="1577" class="Symbol">∀</a> <a id="1579" class="Symbol">{</a><a id="1580" href="A201607.WIP2.BasicICML.Sketch2.html#1580" class="Bound">Γ</a> <a id="1582" href="A201607.WIP2.BasicICML.Sketch2.html#1582" class="Bound">Δ</a><a id="1583" class="Symbol">}</a> <a id="1585" class="Symbol">→</a> <a id="1587" href="A201607.WIP2.BasicICML.Sketch2.html#1580" class="Bound">Γ</a> <a id="1589" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="1591" href="A201607.WIP2.BasicICML.Sketch2.html#1582" class="Bound">Δ</a> <a id="1593" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="1595" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="1597" href="A201607.WIP2.BasicICML.Sketch2.html#1572" class="Function">e₃</a> <a id="1600" class="Symbol">=</a> <a id="1602" href="A201607.BasicICML.Syntax.DyadicGentzen.html#688" class="InductiveConstructor">unbox</a> <a id="1608" class="Symbol">{</a><a id="1609" class="Argument">Ψ</a> <a id="1611" class="Symbol">=</a> <a id="1613" href="A201607.Common.Context.html#151" class="InductiveConstructor">∅</a><a id="1614" class="Symbol">}</a> <a id="1616" class="Symbol">(</a><a id="1617" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="1621" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a><a id="1622" class="Symbol">)</a> <a id="1624" class="Symbol">(</a><a id="1625" href="A201607.WIP2.BasicICML.Sketch2.html#191" class="Postulate">𝟙</a> <a id="1627" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1629" href="A201607.WIP2.BasicICML.Sketch2.html#193" class="Postulate">𝟚</a> <a id="1631" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1633" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2919" class="Function">mv₀</a> <a id="1637" href="A201607.BasicICML.Syntax.DyadicGentzen.html#1039" class="InductiveConstructor">∙</a><a id="1638" class="Symbol">)</a>

<a id="ne₃"></a><a id="1641" href="A201607.WIP2.BasicICML.Sketch2.html#1641" class="Function">ne₃</a> <a id="1645" class="Symbol">:</a> <a id="1647" class="Symbol">∀</a> <a id="1649" class="Symbol">{</a><a id="1650" href="A201607.WIP2.BasicICML.Sketch2.html#1650" class="Bound">Γ</a> <a id="1652" href="A201607.WIP2.BasicICML.Sketch2.html#1652" class="Bound">Δ</a><a id="1653" class="Symbol">}</a> <a id="1655" class="Symbol">→</a> <a id="1657" href="A201607.WIP2.BasicICML.Sketch2.html#1650" class="Bound">Γ</a> <a id="1659" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="1661" href="A201607.WIP2.BasicICML.Sketch2.html#1652" class="Bound">Δ</a> <a id="1663" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="1665" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="1667" href="A201607.WIP2.BasicICML.Sketch2.html#1641" class="Function">ne₃</a> <a id="1671" class="Symbol">=</a> <a id="1673" href="A201607.BasicICML.Syntax.DyadicGentzen.html#688" class="InductiveConstructor">unbox</a> <a id="1679" class="Symbol">{</a><a id="1680" class="Argument">Ψ</a> <a id="1682" class="Symbol">=</a> <a id="1684" href="A201607.Common.Context.html#151" class="InductiveConstructor">∅</a><a id="1685" class="Symbol">}</a> <a id="1687" class="Symbol">(</a><a id="1688" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="1692" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a><a id="1693" class="Symbol">)</a> <a id="1695" class="Symbol">(</a><a id="1696" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a> <a id="1698" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1700" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2919" class="Function">mv₀</a> <a id="1704" href="A201607.BasicICML.Syntax.DyadicGentzen.html#1039" class="InductiveConstructor">∙</a><a id="1705" class="Symbol">)</a>

<a id="qe₃"></a><a id="1708" href="A201607.WIP2.BasicICML.Sketch2.html#1708" class="Function">qe₃</a> <a id="1712" class="Symbol">:</a> <a id="1714" class="Symbol">∀</a> <a id="1716" class="Symbol">{</a><a id="1717" href="A201607.WIP2.BasicICML.Sketch2.html#1717" class="Bound">Γ</a> <a id="1719" href="A201607.WIP2.BasicICML.Sketch2.html#1719" class="Bound">Δ</a><a id="1720" class="Symbol">}</a> <a id="1722" class="Symbol">→</a> <a id="1724" href="A201607.WIP2.BasicICML.Sketch2.html#1717" class="Bound">Γ</a> <a id="1726" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="1728" href="A201607.WIP2.BasicICML.Sketch2.html#1719" class="Bound">Δ</a> <a id="1730" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="1732" class="InductiveConstructor Operator">[</a> <a id="1734" class="InductiveConstructor">∅</a> <a id="1736" class="InductiveConstructor Operator">]</a> <a id="1738" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="1740" href="A201607.WIP2.BasicICML.Sketch2.html#1708" class="Function">qe₃</a> <a id="1744" class="Symbol">=</a> <a id="1746" href="A201607.BasicICML.Syntax.DyadicGentzen.html#688" class="InductiveConstructor">unbox</a> <a id="1752" class="Symbol">{</a><a id="1753" class="Argument">Ψ</a> <a id="1755" class="Symbol">=</a> <a id="1757" href="A201607.Common.Context.html#151" class="InductiveConstructor">∅</a><a id="1758" class="Symbol">}</a> <a id="1760" class="Symbol">(</a><a id="1761" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="1765" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a><a id="1766" class="Symbol">)</a> <a id="1768" class="Symbol">(</a><a id="1769" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="1773" class="Symbol">(</a><a id="1774" href="A201607.WIP2.BasicICML.Sketch2.html#191" class="Postulate">𝟙</a> <a id="1776" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1778" href="A201607.WIP2.BasicICML.Sketch2.html#193" class="Postulate">𝟚</a> <a id="1780" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1782" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2919" class="Function">mv₀</a> <a id="1786" href="A201607.BasicICML.Syntax.DyadicGentzen.html#1039" class="InductiveConstructor">∙</a><a id="1787" class="Symbol">))</a>

<a id="qne₃"></a><a id="1791" href="A201607.WIP2.BasicICML.Sketch2.html#1791" class="Function">qne₃</a> <a id="1796" class="Symbol">:</a> <a id="1798" class="Symbol">∀</a> <a id="1800" class="Symbol">{</a><a id="1801" href="A201607.WIP2.BasicICML.Sketch2.html#1801" class="Bound">Γ</a> <a id="1803" href="A201607.WIP2.BasicICML.Sketch2.html#1803" class="Bound">Δ</a><a id="1804" class="Symbol">}</a> <a id="1806" class="Symbol">→</a> <a id="1808" href="A201607.WIP2.BasicICML.Sketch2.html#1801" class="Bound">Γ</a> <a id="1810" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="1812" href="A201607.WIP2.BasicICML.Sketch2.html#1803" class="Bound">Δ</a> <a id="1814" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="1816" class="InductiveConstructor Operator">[</a> <a id="1818" class="InductiveConstructor">∅</a> <a id="1820" class="InductiveConstructor Operator">]</a> <a id="1822" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="1824" href="A201607.WIP2.BasicICML.Sketch2.html#1791" class="Function">qne₃</a> <a id="1829" class="Symbol">=</a> <a id="1831" href="A201607.BasicICML.Syntax.DyadicGentzen.html#688" class="InductiveConstructor">unbox</a> <a id="1837" class="Symbol">{</a><a id="1838" class="Argument">Ψ</a> <a id="1840" class="Symbol">=</a> <a id="1842" href="A201607.Common.Context.html#151" class="InductiveConstructor">∅</a><a id="1843" class="Symbol">}</a> <a id="1845" class="Symbol">(</a><a id="1846" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="1850" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a><a id="1851" class="Symbol">)</a> <a id="1853" class="Symbol">(</a><a id="1854" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="1858" class="Symbol">(</a><a id="1859" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a> <a id="1861" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="1863" href="A201607.BasicICML.Syntax.DyadicGentzen.html#2919" class="Function">mv₀</a> <a id="1867" href="A201607.BasicICML.Syntax.DyadicGentzen.html#1039" class="InductiveConstructor">∙</a><a id="1868" class="Symbol">))</a>

<a id="1872" class="Comment">-- Now, we can achieve the expected result of splicing by performing one step</a>
<a id="1950" class="Comment">-- of reduction, or meta-variable substitution.</a>

<a id="qe₄"></a><a id="1999" href="A201607.WIP2.BasicICML.Sketch2.html#1999" class="Function">qe₄</a> <a id="2003" class="Symbol">:</a> <a id="2005" class="Symbol">∀</a> <a id="2007" class="Symbol">{</a><a id="2008" href="A201607.WIP2.BasicICML.Sketch2.html#2008" class="Bound">Γ</a> <a id="2010" href="A201607.WIP2.BasicICML.Sketch2.html#2010" class="Bound">Δ</a><a id="2011" class="Symbol">}</a> <a id="2013" class="Symbol">→</a> <a id="2015" href="A201607.WIP2.BasicICML.Sketch2.html#2008" class="Bound">Γ</a> <a id="2017" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="2019" href="A201607.WIP2.BasicICML.Sketch2.html#2010" class="Bound">Δ</a> <a id="2021" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="2023" class="InductiveConstructor Operator">[</a> <a id="2025" class="InductiveConstructor">∅</a> <a id="2027" class="InductiveConstructor Operator">]</a> <a id="2029" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="2031" href="A201607.WIP2.BasicICML.Sketch2.html#1999" class="Function">qe₄</a> <a id="2035" class="Symbol">=</a> <a id="2037" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="2041" class="Symbol">(</a><a id="2042" href="A201607.WIP2.BasicICML.Sketch2.html#191" class="Postulate">𝟙</a> <a id="2044" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="2046" href="A201607.WIP2.BasicICML.Sketch2.html#193" class="Postulate">𝟚</a> <a id="2048" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="2050" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a><a id="2051" class="Symbol">)</a>

<a id="qne₄"></a><a id="2054" href="A201607.WIP2.BasicICML.Sketch2.html#2054" class="Function">qne₄</a> <a id="2059" class="Symbol">:</a> <a id="2061" class="Symbol">∀</a> <a id="2063" class="Symbol">{</a><a id="2064" href="A201607.WIP2.BasicICML.Sketch2.html#2064" class="Bound">Γ</a> <a id="2066" href="A201607.WIP2.BasicICML.Sketch2.html#2066" class="Bound">Δ</a><a id="2067" class="Symbol">}</a> <a id="2069" class="Symbol">→</a> <a id="2071" href="A201607.WIP2.BasicICML.Sketch2.html#2064" class="Bound">Γ</a> <a id="2073" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="2075" href="A201607.WIP2.BasicICML.Sketch2.html#2066" class="Bound">Δ</a> <a id="2077" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="2079" class="InductiveConstructor Operator">[</a> <a id="2081" class="InductiveConstructor">∅</a> <a id="2083" class="InductiveConstructor Operator">]</a> <a id="2085" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="2087" href="A201607.WIP2.BasicICML.Sketch2.html#2054" class="Function">qne₄</a> <a id="2092" class="Symbol">=</a> <a id="2094" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="2098" class="Symbol">(</a><a id="2099" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a> <a id="2101" href="A201607.WIP2.BasicICML.Sketch2.html#223" class="Postulate Operator">+</a> <a id="2103" href="A201607.WIP2.BasicICML.Sketch2.html#195" class="Postulate">𝟛</a><a id="2104" class="Symbol">)</a>

<a id="2107" class="Comment">-- Both of the above quoted expressions are nevertheless different from what we</a>
<a id="2187" class="Comment">-- would get by normalising before quoting (box-val).</a>

<a id="qe₅"></a><a id="2242" href="A201607.WIP2.BasicICML.Sketch2.html#2242" class="Function">qe₅</a> <a id="2246" class="Symbol">:</a> <a id="2248" class="Symbol">∀</a> <a id="2250" class="Symbol">{</a><a id="2251" href="A201607.WIP2.BasicICML.Sketch2.html#2251" class="Bound">Γ</a> <a id="2253" href="A201607.WIP2.BasicICML.Sketch2.html#2253" class="Bound">Δ</a><a id="2254" class="Symbol">}</a> <a id="2256" class="Symbol">→</a> <a id="2258" href="A201607.WIP2.BasicICML.Sketch2.html#2251" class="Bound">Γ</a> <a id="2260" href="A201607.Common.ContextPair.html#197" class="InductiveConstructor Operator">⁏</a> <a id="2262" href="A201607.WIP2.BasicICML.Sketch2.html#2253" class="Bound">Δ</a> <a id="2264" href="A201607.BasicICML.Syntax.DyadicGentzen.html#359" class="Datatype Operator">⊢</a> <a id="2266" class="InductiveConstructor Operator">[</a> <a id="2268" class="InductiveConstructor">∅</a> <a id="2270" class="InductiveConstructor Operator">]</a> <a id="2272" href="A201607.WIP2.BasicICML.Sketch2.html#180" class="Postulate">ℕ</a>
<a id="2274" href="A201607.WIP2.BasicICML.Sketch2.html#2242" class="Function">qe₅</a> <a id="2278" class="Symbol">=</a> <a id="2280" href="A201607.BasicICML.Syntax.DyadicGentzen.html#632" class="InductiveConstructor">box</a> <a id="2284" href="A201607.WIP2.BasicICML.Sketch2.html#197" class="Postulate">𝟞</a>
</pre></body></html>