<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>A201802.WIP.LR2e</title><link rel="stylesheet" href="mi-common.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--allow-unsolved-metas</a> <a id="36" class="Pragma">--rewriting</a> <a id="48" class="Symbol">#-}</a>

<a id="53" class="Keyword">module</a> <a id="60" href="A201802.WIP.LR2e.html" class="Module">A201802.WIP.LR2e</a> <a id="77" class="Keyword">where</a>

<a id="84" class="Keyword">open</a> <a id="89" class="Keyword">import</a> <a id="96" href="A201801.Prelude.html" class="Module">A201801.Prelude</a>
<a id="112" class="Keyword">open</a> <a id="117" class="Keyword">import</a> <a id="124" href="A201801.Category.html" class="Module">A201801.Category</a>
<a id="141" class="Keyword">open</a> <a id="146" class="Keyword">import</a> <a id="153" href="A201801.Fin.html" class="Module">A201801.Fin</a>
<a id="165" class="Keyword">open</a> <a id="170" class="Keyword">import</a> <a id="177" href="A201801.FinLemmas.html" class="Module">A201801.FinLemmas</a>
<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="A201801.Vec.html" class="Module">A201801.Vec</a>
<a id="219" class="Keyword">open</a> <a id="224" class="Keyword">import</a> <a id="231" href="A201801.VecLemmas.html" class="Module">A201801.VecLemmas</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="A201801.AllVec.html" class="Module">A201801.AllVec</a>

<a id="277" class="Keyword">open</a> <a id="282" class="Keyword">import</a> <a id="289" href="A201802.LR0.html" class="Module">A201802.LR0</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="A201802.LR0Lemmas.html" class="Module">A201802.LR0Lemmas</a>
<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="A201802.LR1.html" class="Module">A201802.LR1</a>


<a id="357" class="Comment">--------------------------------------------------------------------------------</a>


<a id="440" class="Comment">-- `iv : IsVal M` says that the term `M` is a value</a>
<a id="492" class="Keyword">data</a> <a id="IsVal"></a><a id="497" href="A201802.WIP.LR2e.html#497" class="Datatype">IsVal</a> <a id="503" class="Symbol">{</a><a id="504" href="A201802.WIP.LR2e.html#504" class="Bound">g</a><a id="505" class="Symbol">}</a> <a id="507" class="Symbol">:</a> <a id="509" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="514" href="A201802.WIP.LR2e.html#504" class="Bound">g</a> <a id="516" class="Symbol">→</a> <a id="518" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="524" class="Keyword">where</a>
    <a id="534" class="Keyword">instance</a>
      <a id="IsVal.val-LAM"></a><a id="549" href="A201802.WIP.LR2e.html#549" class="InductiveConstructor">val-LAM</a>   <a id="559" class="Symbol">:</a> <a id="561" class="Symbol">∀</a> <a id="563" class="Symbol">{</a><a id="564" href="A201802.WIP.LR2e.html#564" class="Bound">M</a><a id="565" class="Symbol">}</a> <a id="567" class="Symbol">→</a> <a id="569" href="A201802.WIP.LR2e.html#497" class="Datatype">IsVal</a> <a id="575" class="Symbol">(</a><a id="576" href="A201802.LR0.html#636" class="InductiveConstructor">LAM</a> <a id="580" href="A201802.WIP.LR2e.html#564" class="Bound">M</a><a id="581" class="Symbol">)</a>
      <a id="IsVal.val-TRUE"></a><a id="589" href="A201802.WIP.LR2e.html#589" class="InductiveConstructor">val-TRUE</a>  <a id="599" class="Symbol">:</a> <a id="601" href="A201802.WIP.LR2e.html#497" class="Datatype">IsVal</a> <a id="607" href="A201802.LR0.html#961" class="InductiveConstructor">TRUE</a>
      <a id="IsVal.val-FALSE"></a><a id="618" href="A201802.WIP.LR2e.html#618" class="InductiveConstructor">val-FALSE</a> <a id="628" class="Symbol">:</a> <a id="630" href="A201802.WIP.LR2e.html#497" class="Datatype">IsVal</a> <a id="636" href="A201802.LR0.html#980" class="InductiveConstructor">FALSE</a>


<a id="644" class="Comment">-- -- `val M {{iv}} : Val g` keeps the term `M` together with the evidence `iv` that `M` is a value</a>
<a id="744" class="Comment">-- record Val (g : Nat) : Set</a>
<a id="774" class="Comment">--   where</a>
<a id="785" class="Comment">--     constructor val</a>
<a id="808" class="Comment">--     field</a>
<a id="821" class="Comment">--       term   : Term g</a>
<a id="846" class="Comment">--       {{iv}} : IsVal term</a>


<a id="877" class="Comment">-- `E : EvCx g` is a well-scoped call-by-value evaluation context</a>
<a id="943" class="Keyword">data</a> <a id="EvCx"></a><a id="948" href="A201802.WIP.LR2e.html#948" class="Datatype">EvCx</a> <a id="953" class="Symbol">(</a><a id="954" href="A201802.WIP.LR2e.html#954" class="Bound">g</a> <a id="956" class="Symbol">:</a> <a id="958" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a><a id="961" class="Symbol">)</a> <a id="963" class="Symbol">:</a> <a id="965" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="971" class="Keyword">where</a>
    <a id="EvCx.ec-[]"></a><a id="981" href="A201802.WIP.LR2e.html#981" class="InductiveConstructor">ec-[]</a>      <a id="992" class="Symbol">:</a> <a id="994" href="A201802.WIP.LR2e.html#948" class="Datatype">EvCx</a> <a id="999" href="A201802.WIP.LR2e.html#954" class="Bound">g</a>
    <a id="EvCx.ec-fun-APP"></a><a id="1005" href="A201802.WIP.LR2e.html#1005" class="InductiveConstructor">ec-fun-APP</a> <a id="1016" class="Symbol">:</a> <a id="1018" href="A201802.WIP.LR2e.html#948" class="Datatype">EvCx</a> <a id="1023" href="A201802.WIP.LR2e.html#954" class="Bound">g</a> <a id="1025" class="Symbol">→</a> <a id="1027" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="1032" href="A201802.WIP.LR2e.html#954" class="Bound">g</a> <a id="1034" class="Symbol">→</a> <a id="1036" href="A201802.WIP.LR2e.html#948" class="Datatype">EvCx</a> <a id="1041" href="A201802.WIP.LR2e.html#954" class="Bound">g</a>
    <a id="EvCx.ec-arg-APP"></a><a id="1047" href="A201802.WIP.LR2e.html#1047" class="InductiveConstructor">ec-arg-APP</a> <a id="1058" class="Symbol">:</a> <a id="1060" class="Symbol">(</a><a id="1061" href="A201802.WIP.LR2e.html#1061" class="Bound">M</a> <a id="1063" class="Symbol">:</a> <a id="1065" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="1070" href="A201802.WIP.LR2e.html#954" class="Bound">g</a><a id="1071" class="Symbol">)</a> <a id="1073" class="Symbol">→</a> <a id="1075" class="Symbol">{{</a><a id="1077" href="A201802.WIP.LR2e.html#1077" class="Bound">_</a> <a id="1079" class="Symbol">:</a> <a id="1081" href="A201802.WIP.LR2e.html#497" class="Datatype">IsVal</a> <a id="1087" href="A201802.WIP.LR2e.html#1061" class="Bound">M</a><a id="1088" class="Symbol">}}</a> <a id="1091" class="Symbol">→</a> <a id="1093" href="A201802.WIP.LR2e.html#948" class="Datatype">EvCx</a> <a id="1098" href="A201802.WIP.LR2e.html#954" class="Bound">g</a> <a id="1100" class="Symbol">→</a> <a id="1102" href="A201802.WIP.LR2e.html#948" class="Datatype">EvCx</a> <a id="1107" href="A201802.WIP.LR2e.html#954" class="Bound">g</a>
    <a id="EvCx.ec-IF"></a><a id="1113" href="A201802.WIP.LR2e.html#1113" class="InductiveConstructor">ec-IF</a>      <a id="1124" class="Symbol">:</a> <a id="1126" href="A201802.WIP.LR2e.html#948" class="Datatype">EvCx</a> <a id="1131" href="A201802.WIP.LR2e.html#954" class="Bound">g</a> <a id="1133" class="Symbol">→</a> <a id="1135" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="1140" href="A201802.WIP.LR2e.html#954" class="Bound">g</a> <a id="1142" class="Symbol">→</a> <a id="1144" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="1149" href="A201802.WIP.LR2e.html#954" class="Bound">g</a> <a id="1151" class="Symbol">→</a> <a id="1153" href="A201802.WIP.LR2e.html#948" class="Datatype">EvCx</a> <a id="1158" href="A201802.WIP.LR2e.html#954" class="Bound">g</a>


<a id="1162" class="Comment">-- `E [ M ] : Term g` plugs the term `M` into the evaluation context `E`</a>
<a id="_[_]"></a><a id="1235" href="A201802.WIP.LR2e.html#1235" class="Function Operator">_[_]</a> <a id="1240" class="Symbol">:</a> <a id="1242" class="Symbol">∀</a> <a id="1244" class="Symbol">{</a><a id="1245" href="A201802.WIP.LR2e.html#1245" class="Bound">g</a><a id="1246" class="Symbol">}</a> <a id="1248" class="Symbol">→</a> <a id="1250" href="A201802.WIP.LR2e.html#948" class="Datatype">EvCx</a> <a id="1255" href="A201802.WIP.LR2e.html#1245" class="Bound">g</a> <a id="1257" class="Symbol">→</a> <a id="1259" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="1264" href="A201802.WIP.LR2e.html#1245" class="Bound">g</a> <a id="1266" class="Symbol">→</a> <a id="1268" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="1273" href="A201802.WIP.LR2e.html#1245" class="Bound">g</a>
<a id="1275" href="A201802.WIP.LR2e.html#981" class="InductiveConstructor">ec-[]</a>            <a id="1292" href="A201802.WIP.LR2e.html#1235" class="Function Operator">[</a> <a id="1294" href="A201802.WIP.LR2e.html#1294" class="Bound">M</a> <a id="1296" href="A201802.WIP.LR2e.html#1235" class="Function Operator">]</a> <a id="1298" class="Symbol">=</a> <a id="1300" href="A201802.WIP.LR2e.html#1294" class="Bound">M</a>
<a id="1302" href="A201802.WIP.LR2e.html#1005" class="InductiveConstructor">ec-fun-APP</a> <a id="1313" href="A201802.WIP.LR2e.html#1313" class="Bound">E</a> <a id="1315" href="A201802.WIP.LR2e.html#1315" class="Bound">N</a>   <a id="1319" href="A201802.WIP.LR2e.html#1235" class="Function Operator">[</a> <a id="1321" href="A201802.WIP.LR2e.html#1321" class="Bound">M</a> <a id="1323" href="A201802.WIP.LR2e.html#1235" class="Function Operator">]</a> <a id="1325" class="Symbol">=</a> <a id="1327" href="A201802.LR0.html#670" class="InductiveConstructor">APP</a> <a id="1331" class="Symbol">(</a><a id="1332" href="A201802.WIP.LR2e.html#1313" class="Bound">E</a> <a id="1334" href="A201802.WIP.LR2e.html#1235" class="Function Operator">[</a> <a id="1336" href="A201802.WIP.LR2e.html#1321" class="Bound">M</a> <a id="1338" href="A201802.WIP.LR2e.html#1235" class="Function Operator">]</a><a id="1339" class="Symbol">)</a> <a id="1341" href="A201802.WIP.LR2e.html#1315" class="Bound">N</a>
<a id="1343" href="A201802.WIP.LR2e.html#1047" class="InductiveConstructor">ec-arg-APP</a> <a id="1354" href="A201802.WIP.LR2e.html#1354" class="Bound">N</a> <a id="1356" href="A201802.WIP.LR2e.html#1356" class="Bound">E</a>   <a id="1360" href="A201802.WIP.LR2e.html#1235" class="Function Operator">[</a> <a id="1362" href="A201802.WIP.LR2e.html#1362" class="Bound">M</a> <a id="1364" href="A201802.WIP.LR2e.html#1235" class="Function Operator">]</a> <a id="1366" class="Symbol">=</a> <a id="1368" href="A201802.LR0.html#670" class="InductiveConstructor">APP</a> <a id="1372" href="A201802.WIP.LR2e.html#1354" class="Bound">N</a> <a id="1374" class="Symbol">(</a><a id="1375" href="A201802.WIP.LR2e.html#1356" class="Bound">E</a> <a id="1377" href="A201802.WIP.LR2e.html#1235" class="Function Operator">[</a> <a id="1379" href="A201802.WIP.LR2e.html#1362" class="Bound">M</a> <a id="1381" href="A201802.WIP.LR2e.html#1235" class="Function Operator">]</a><a id="1382" class="Symbol">)</a>
<a id="1384" href="A201802.WIP.LR2e.html#1113" class="InductiveConstructor">ec-IF</a>      <a id="1395" href="A201802.WIP.LR2e.html#1395" class="Bound">E</a> <a id="1397" href="A201802.WIP.LR2e.html#1397" class="Bound">N</a> <a id="1399" href="A201802.WIP.LR2e.html#1399" class="Bound">O</a> <a id="1401" href="A201802.WIP.LR2e.html#1235" class="Function Operator">[</a> <a id="1403" href="A201802.WIP.LR2e.html#1403" class="Bound">M</a> <a id="1405" href="A201802.WIP.LR2e.html#1235" class="Function Operator">]</a> <a id="1407" class="Symbol">=</a> <a id="1409" href="A201802.LR0.html#999" class="InductiveConstructor">IF</a> <a id="1412" class="Symbol">(</a><a id="1413" href="A201802.WIP.LR2e.html#1395" class="Bound">E</a> <a id="1415" href="A201802.WIP.LR2e.html#1235" class="Function Operator">[</a> <a id="1417" href="A201802.WIP.LR2e.html#1403" class="Bound">M</a> <a id="1419" href="A201802.WIP.LR2e.html#1235" class="Function Operator">]</a><a id="1420" class="Symbol">)</a> <a id="1422" href="A201802.WIP.LR2e.html#1397" class="Bound">N</a> <a id="1424" href="A201802.WIP.LR2e.html#1399" class="Bound">O</a>


<a id="1428" class="Comment">-- `_ : M ↦ M′` says that the term `M` reduces in one step to the term `M′`</a>
<a id="1504" class="Keyword">infix</a> <a id="1510" class="Number">3</a> <a id="1512" href="A201802.WIP.LR2e.html#1521" class="Datatype Operator">_↦_</a>
<a id="1516" class="Keyword">data</a> <a id="_↦_"></a><a id="1521" href="A201802.WIP.LR2e.html#1521" class="Datatype Operator">_↦_</a> <a id="1525" class="Symbol">{</a><a id="1526" href="A201802.WIP.LR2e.html#1526" class="Bound">g</a><a id="1527" class="Symbol">}</a> <a id="1529" class="Symbol">:</a> <a id="1531" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="1536" href="A201802.WIP.LR2e.html#1526" class="Bound">g</a> <a id="1538" class="Symbol">→</a> <a id="1540" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="1545" href="A201802.WIP.LR2e.html#1526" class="Bound">g</a> <a id="1547" class="Symbol">→</a> <a id="1549" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="1555" class="Keyword">where</a>
    <a id="_↦_.step-APP-LAM"></a><a id="1565" href="A201802.WIP.LR2e.html#1565" class="InductiveConstructor">step-APP-LAM</a>  <a id="1579" class="Symbol">:</a> <a id="1581" class="Symbol">∀</a> <a id="1583" class="Symbol">{</a><a id="1584" href="A201802.WIP.LR2e.html#1584" class="Bound">M</a> <a id="1586" href="A201802.WIP.LR2e.html#1586" class="Bound">N</a><a id="1587" class="Symbol">}</a> <a id="1589" class="Symbol">→</a> <a id="1591" href="A201802.LR0.html#670" class="InductiveConstructor">APP</a> <a id="1595" class="Symbol">(</a><a id="1596" href="A201802.LR0.html#636" class="InductiveConstructor">LAM</a> <a id="1600" href="A201802.WIP.LR2e.html#1584" class="Bound">M</a><a id="1601" class="Symbol">)</a> <a id="1603" href="A201802.WIP.LR2e.html#1586" class="Bound">N</a> <a id="1605" href="A201802.WIP.LR2e.html#1521" class="Datatype Operator">↦</a> <a id="1607" href="A201802.LR0.html#3058" class="Function">CUT</a> <a id="1611" href="A201802.WIP.LR2e.html#1586" class="Bound">N</a> <a id="1613" href="A201802.WIP.LR2e.html#1584" class="Bound">M</a>
    <a id="_↦_.step-IF-TRUE"></a><a id="1619" href="A201802.WIP.LR2e.html#1619" class="InductiveConstructor">step-IF-TRUE</a>  <a id="1633" class="Symbol">:</a> <a id="1635" class="Symbol">∀</a> <a id="1637" class="Symbol">{</a><a id="1638" href="A201802.WIP.LR2e.html#1638" class="Bound">N</a> <a id="1640" href="A201802.WIP.LR2e.html#1640" class="Bound">O</a><a id="1641" class="Symbol">}</a> <a id="1643" class="Symbol">→</a> <a id="1645" href="A201802.LR0.html#999" class="InductiveConstructor">IF</a> <a id="1648" href="A201802.LR0.html#961" class="InductiveConstructor">TRUE</a> <a id="1653" href="A201802.WIP.LR2e.html#1638" class="Bound">N</a> <a id="1655" href="A201802.WIP.LR2e.html#1640" class="Bound">O</a> <a id="1657" href="A201802.WIP.LR2e.html#1521" class="Datatype Operator">↦</a> <a id="1659" href="A201802.WIP.LR2e.html#1638" class="Bound">N</a>
    <a id="_↦_.step-IF-FALSE"></a><a id="1665" href="A201802.WIP.LR2e.html#1665" class="InductiveConstructor">step-IF-FALSE</a> <a id="1679" class="Symbol">:</a> <a id="1681" class="Symbol">∀</a> <a id="1683" class="Symbol">{</a><a id="1684" href="A201802.WIP.LR2e.html#1684" class="Bound">N</a> <a id="1686" href="A201802.WIP.LR2e.html#1686" class="Bound">O</a><a id="1687" class="Symbol">}</a> <a id="1689" class="Symbol">→</a> <a id="1691" href="A201802.LR0.html#999" class="InductiveConstructor">IF</a> <a id="1694" href="A201802.LR0.html#980" class="InductiveConstructor">FALSE</a> <a id="1700" href="A201802.WIP.LR2e.html#1684" class="Bound">N</a> <a id="1702" href="A201802.WIP.LR2e.html#1686" class="Bound">O</a> <a id="1704" href="A201802.WIP.LR2e.html#1521" class="Datatype Operator">↦</a> <a id="1706" href="A201802.WIP.LR2e.html#1686" class="Bound">O</a>
    <a id="_↦_.step-cong"></a><a id="1712" href="A201802.WIP.LR2e.html#1712" class="InductiveConstructor">step-cong</a>     <a id="1726" class="Symbol">:</a> <a id="1728" class="Symbol">∀</a> <a id="1730" class="Symbol">{</a><a id="1731" href="A201802.WIP.LR2e.html#1731" class="Bound">M</a> <a id="1733" href="A201802.WIP.LR2e.html#1733" class="Bound">M′</a><a id="1735" class="Symbol">}</a> <a id="1737" class="Symbol">→</a> <a id="1739" class="Symbol">(</a><a id="1740" href="A201802.WIP.LR2e.html#1740" class="Bound">E</a> <a id="1742" class="Symbol">:</a> <a id="1744" href="A201802.WIP.LR2e.html#948" class="Datatype">EvCx</a> <a id="1749" href="A201802.WIP.LR2e.html#1526" class="Bound">g</a><a id="1750" class="Symbol">)</a> <a id="1752" class="Symbol">→</a> <a id="1754" href="A201802.WIP.LR2e.html#1731" class="Bound">M</a> <a id="1756" href="A201802.WIP.LR2e.html#1521" class="Datatype Operator">↦</a> <a id="1758" href="A201802.WIP.LR2e.html#1733" class="Bound">M′</a>
                             <a id="1790" class="Symbol">→</a> <a id="1792" href="A201802.WIP.LR2e.html#1740" class="Bound">E</a> <a id="1794" href="A201802.WIP.LR2e.html#1235" class="Function Operator">[</a> <a id="1796" href="A201802.WIP.LR2e.html#1731" class="Bound">M</a> <a id="1798" href="A201802.WIP.LR2e.html#1235" class="Function Operator">]</a> <a id="1800" href="A201802.WIP.LR2e.html#1521" class="Datatype Operator">↦</a> <a id="1802" href="A201802.WIP.LR2e.html#1740" class="Bound">E</a> <a id="1804" href="A201802.WIP.LR2e.html#1235" class="Function Operator">[</a> <a id="1806" href="A201802.WIP.LR2e.html#1733" class="Bound">M′</a> <a id="1809" href="A201802.WIP.LR2e.html#1235" class="Function Operator">]</a>


<a id="1813" class="Comment">-- `_ : M ⤅ M′` says that the term `M` reduces in some number of steps to the term `M′`</a>
<a id="1901" class="Keyword">infix</a> <a id="1907" class="Number">3</a> <a id="1909" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">_⤅_</a>
<a id="1913" class="Keyword">data</a> <a id="_⤅_"></a><a id="1918" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">_⤅_</a> <a id="1922" class="Symbol">{</a><a id="1923" href="A201802.WIP.LR2e.html#1923" class="Bound">g</a><a id="1924" class="Symbol">}</a> <a id="1926" class="Symbol">:</a> <a id="1928" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="1933" href="A201802.WIP.LR2e.html#1923" class="Bound">g</a> <a id="1935" class="Symbol">→</a> <a id="1937" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="1942" href="A201802.WIP.LR2e.html#1923" class="Bound">g</a> <a id="1944" class="Symbol">→</a> <a id="1946" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="1952" class="Keyword">where</a>
    <a id="_⤅_.done"></a><a id="1962" href="A201802.WIP.LR2e.html#1962" class="InductiveConstructor">done</a> <a id="1967" class="Symbol">:</a> <a id="1969" class="Symbol">∀</a> <a id="1971" class="Symbol">{</a><a id="1972" href="A201802.WIP.LR2e.html#1972" class="Bound">M</a><a id="1973" class="Symbol">}</a> <a id="1975" class="Symbol">→</a> <a id="1977" href="A201802.WIP.LR2e.html#1972" class="Bound">M</a> <a id="1979" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="1981" href="A201802.WIP.LR2e.html#1972" class="Bound">M</a>
    <a id="_⤅_._⨾₁_"></a><a id="1987" href="A201802.WIP.LR2e.html#1987" class="InductiveConstructor Operator">_⨾₁_</a> <a id="1992" class="Symbol">:</a> <a id="1994" class="Symbol">∀</a> <a id="1996" class="Symbol">{</a><a id="1997" href="A201802.WIP.LR2e.html#1997" class="Bound">M</a> <a id="1999" href="A201802.WIP.LR2e.html#1999" class="Bound">M″</a> <a id="2002" href="A201802.WIP.LR2e.html#2002" class="Bound">M′</a><a id="2004" class="Symbol">}</a> <a id="2006" class="Symbol">→</a> <a id="2008" href="A201802.WIP.LR2e.html#1997" class="Bound">M</a> <a id="2010" href="A201802.WIP.LR2e.html#1521" class="Datatype Operator">↦</a> <a id="2012" href="A201802.WIP.LR2e.html#1999" class="Bound">M″</a> <a id="2015" class="Symbol">→</a> <a id="2017" href="A201802.WIP.LR2e.html#1999" class="Bound">M″</a> <a id="2020" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="2022" href="A201802.WIP.LR2e.html#2002" class="Bound">M′</a>
                       <a id="2048" class="Symbol">→</a> <a id="2050" href="A201802.WIP.LR2e.html#1997" class="Bound">M</a> <a id="2052" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="2054" href="A201802.WIP.LR2e.html#2002" class="Bound">M′</a>


<a id="2059" class="Comment">-- `_⤅_` is the reflexive and transitive closure of `_↦_`</a>
<a id="_⨾ₙ_"></a><a id="2117" href="A201802.WIP.LR2e.html#2117" class="Function Operator">_⨾ₙ_</a> <a id="2122" class="Symbol">:</a> <a id="2124" class="Symbol">∀</a> <a id="2126" class="Symbol">{</a><a id="2127" href="A201802.WIP.LR2e.html#2127" class="Bound">g</a><a id="2128" class="Symbol">}</a> <a id="2130" class="Symbol">→</a> <a id="2132" class="Symbol">{</a><a id="2133" href="A201802.WIP.LR2e.html#2133" class="Bound">M</a> <a id="2135" href="A201802.WIP.LR2e.html#2135" class="Bound">M″</a> <a id="2138" href="A201802.WIP.LR2e.html#2138" class="Bound">M′</a> <a id="2141" class="Symbol">:</a> <a id="2143" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="2148" href="A201802.WIP.LR2e.html#2127" class="Bound">g</a><a id="2149" class="Symbol">}</a>
             <a id="2164" class="Symbol">→</a> <a id="2166" href="A201802.WIP.LR2e.html#2133" class="Bound">M</a> <a id="2168" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="2170" href="A201802.WIP.LR2e.html#2135" class="Bound">M″</a> <a id="2173" class="Symbol">→</a> <a id="2175" href="A201802.WIP.LR2e.html#2135" class="Bound">M″</a> <a id="2178" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="2180" href="A201802.WIP.LR2e.html#2138" class="Bound">M′</a>
             <a id="2196" class="Symbol">→</a> <a id="2198" href="A201802.WIP.LR2e.html#2133" class="Bound">M</a> <a id="2200" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="2202" href="A201802.WIP.LR2e.html#2138" class="Bound">M′</a>
<a id="2205" href="A201802.WIP.LR2e.html#1962" class="InductiveConstructor">done</a>              <a id="2223" href="A201802.WIP.LR2e.html#2117" class="Function Operator">⨾ₙ</a> <a id="2226" href="A201802.WIP.LR2e.html#2226" class="Bound">M⤅M′</a>  <a id="2232" class="Symbol">=</a> <a id="2234" href="A201802.WIP.LR2e.html#2226" class="Bound">M⤅M′</a>
<a id="2239" class="Symbol">(</a><a id="2240" href="A201802.WIP.LR2e.html#2240" class="Bound">M↦M‴</a> <a id="2245" href="A201802.WIP.LR2e.html#1987" class="InductiveConstructor Operator">⨾₁</a> <a id="2248" href="A201802.WIP.LR2e.html#2248" class="Bound">M‴⤅M″</a><a id="2253" class="Symbol">)</a> <a id="2255" href="A201802.WIP.LR2e.html#2117" class="Function Operator">⨾ₙ</a> <a id="2258" href="A201802.WIP.LR2e.html#2258" class="Bound">M″⤅M′</a> <a id="2264" class="Symbol">=</a> <a id="2266" href="A201802.WIP.LR2e.html#2240" class="Bound">M↦M‴</a> <a id="2271" href="A201802.WIP.LR2e.html#1987" class="InductiveConstructor Operator">⨾₁</a> <a id="2274" class="Symbol">(</a><a id="2275" href="A201802.WIP.LR2e.html#2248" class="Bound">M‴⤅M″</a> <a id="2281" href="A201802.WIP.LR2e.html#2117" class="Function Operator">⨾ₙ</a> <a id="2284" href="A201802.WIP.LR2e.html#2258" class="Bound">M″⤅M′</a><a id="2289" class="Symbol">)</a>


<a id="2293" class="Comment">-- `_ : M ⇓ M′` says that the term `M` evaluates to the value `M′</a>
<a id="2359" class="Keyword">infix</a> <a id="2365" class="Number">3</a> <a id="2367" href="A201802.WIP.LR2e.html#2371" class="Function Operator">_⇓_</a>
<a id="_⇓_"></a><a id="2371" href="A201802.WIP.LR2e.html#2371" class="Function Operator">_⇓_</a> <a id="2375" class="Symbol">:</a> <a id="2377" class="Symbol">∀</a> <a id="2379" class="Symbol">{</a><a id="2380" href="A201802.WIP.LR2e.html#2380" class="Bound">g</a><a id="2381" class="Symbol">}</a> <a id="2383" class="Symbol">→</a> <a id="2385" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="2390" href="A201802.WIP.LR2e.html#2380" class="Bound">g</a> <a id="2392" class="Symbol">→</a> <a id="2394" class="Symbol">(</a><a id="2395" href="A201802.WIP.LR2e.html#2395" class="Bound">M′</a> <a id="2398" class="Symbol">:</a> <a id="2400" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="2405" href="A201802.WIP.LR2e.html#2380" class="Bound">g</a><a id="2406" class="Symbol">)</a> <a id="2408" class="Symbol">→</a> <a id="2410" class="Symbol">{{</a><a id="2412" href="A201802.WIP.LR2e.html#2412" class="Bound">_</a> <a id="2414" class="Symbol">:</a> <a id="2416" href="A201802.WIP.LR2e.html#497" class="Datatype">IsVal</a> <a id="2422" href="A201802.WIP.LR2e.html#2395" class="Bound">M′</a><a id="2424" class="Symbol">}}</a> <a id="2427" class="Symbol">→</a> <a id="2429" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="2433" href="A201802.WIP.LR2e.html#2433" class="Bound">M</a> <a id="2435" href="A201802.WIP.LR2e.html#2371" class="Function Operator">⇓</a> <a id="2437" href="A201802.WIP.LR2e.html#2437" class="Bound">M′</a> <a id="2440" class="Symbol">=</a> <a id="2442" href="A201802.WIP.LR2e.html#2433" class="Bound">M</a> <a id="2444" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="2446" href="A201802.WIP.LR2e.html#2437" class="Bound">M′</a>


<a id="2451" class="Comment">-- `_ : M ⇓` says that the evaluation of the term `M` terminates</a>

<a id="2517" class="Comment">-- _⇓ : ∀ {g} → Term g → Set</a>
<a id="2546" class="Comment">-- M ⇓ = Σ (Term _) (\ M′ → Σ (IsVal M′) (\ iv → (M ⇓ M′) {{iv}}))</a>

<a id="_⇓"></a><a id="2614" href="A201802.WIP.LR2e.html#2614" class="Function Operator">_⇓</a> <a id="2617" class="Symbol">:</a> <a id="2619" class="Symbol">∀</a> <a id="2621" class="Symbol">{</a><a id="2622" href="A201802.WIP.LR2e.html#2622" class="Bound">g</a><a id="2623" class="Symbol">}</a> <a id="2625" class="Symbol">→</a> <a id="2627" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="2632" href="A201802.WIP.LR2e.html#2622" class="Bound">g</a> <a id="2634" class="Symbol">→</a> <a id="2636" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="2640" href="A201802.WIP.LR2e.html#2640" class="Bound">M</a> <a id="2642" href="A201802.WIP.LR2e.html#2614" class="Function Operator">⇓</a> <a id="2644" class="Symbol">=</a> <a id="2646" href="A201801.Prelude.html#4545" class="Record">Σ</a> <a id="2648" class="Symbol">(</a><a id="2649" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="2654" class="UnsolvedMeta Symbol">_</a><a id="2655" class="Symbol">)</a> <a id="2657" class="Symbol">(\</a> <a id="2660" href="A201802.WIP.LR2e.html#2660" class="Bound">M′</a> <a id="2663" class="Symbol">→</a> <a id="2665" class="Hole">{!Σ″ (IsVal M′) (\ {{iv}} → (M ⇓ M′) {{iv}})!}</a><a id="2711" class="Symbol">)</a>

<a id="2714" class="Comment">-- infix 4 _/_/_</a>
<a id="2731" class="Comment">-- record _⇓ {g} (M : Term g) : Set</a>
<a id="2767" class="Comment">--   where</a>
<a id="2778" class="Comment">--     constructor _/_/_</a>
<a id="2803" class="Comment">--     field</a>
<a id="2816" class="Comment">--       M′   : Term g</a>
<a id="2839" class="Comment">--       ivM′ : IsVal M′</a>
<a id="2864" class="Comment">--       M⇓M′ : (M ⇓ M′) {{ivM′}}</a>


<a id="2900" class="Comment">--------------------------------------------------------------------------------</a>


<a id="2983" class="Comment">-- `_↦_` is type-preserving</a>
<a id="3011" class="Keyword">mutual</a>
  <a id="tp↦"></a><a id="3020" href="A201802.WIP.LR2e.html#3020" class="Function">tp↦</a> <a id="3024" class="Symbol">:</a> <a id="3026" class="Symbol">∀</a> <a id="3028" class="Symbol">{</a><a id="3029" href="A201802.WIP.LR2e.html#3029" class="Bound">g</a> <a id="3031" href="A201802.WIP.LR2e.html#3031" class="Bound">M</a> <a id="3033" href="A201802.WIP.LR2e.html#3033" class="Bound">M′</a> <a id="3036" href="A201802.WIP.LR2e.html#3036" class="Bound">A</a><a id="3037" class="Symbol">}</a> <a id="3039" class="Symbol">→</a> <a id="3041" class="Symbol">{</a><a id="3042" href="A201802.WIP.LR2e.html#3042" class="Bound">Γ</a> <a id="3044" class="Symbol">:</a> <a id="3046" href="A201802.LR0.html#447" class="Function">Types</a> <a id="3052" href="A201802.WIP.LR2e.html#3029" class="Bound">g</a><a id="3053" class="Symbol">}</a>
                       <a id="3078" class="Symbol">→</a> <a id="3080" href="A201802.WIP.LR2e.html#3031" class="Bound">M</a> <a id="3082" href="A201802.WIP.LR2e.html#1521" class="Datatype Operator">↦</a> <a id="3084" href="A201802.WIP.LR2e.html#3033" class="Bound">M′</a> <a id="3087" class="Symbol">→</a> <a id="3089" href="A201802.WIP.LR2e.html#3042" class="Bound">Γ</a> <a id="3091" href="A201802.LR1.html#377" class="Datatype Operator">⊢</a> <a id="3093" href="A201802.WIP.LR2e.html#3031" class="Bound">M</a> <a id="3095" href="A201802.LR1.html#377" class="Datatype Operator">⦂</a> <a id="3097" href="A201802.WIP.LR2e.html#3036" class="Bound">A</a>
                       <a id="3122" class="Symbol">→</a> <a id="3124" href="A201802.WIP.LR2e.html#3042" class="Bound">Γ</a> <a id="3126" href="A201802.LR1.html#377" class="Datatype Operator">⊢</a> <a id="3128" href="A201802.WIP.LR2e.html#3033" class="Bound">M′</a> <a id="3131" href="A201802.LR1.html#377" class="Datatype Operator">⦂</a> <a id="3133" href="A201802.WIP.LR2e.html#3036" class="Bound">A</a>
  <a id="3137" href="A201802.WIP.LR2e.html#3020" class="Function">tp↦</a> <a id="3141" href="A201802.WIP.LR2e.html#1565" class="InductiveConstructor">step-APP-LAM</a>        <a id="3161" class="Symbol">(</a><a id="3162" href="A201802.LR1.html#578" class="InductiveConstructor">app</a> <a id="3166" class="Symbol">(</a><a id="3167" href="A201802.LR1.html#501" class="InductiveConstructor">lam</a> <a id="3171" href="A201802.WIP.LR2e.html#3171" class="Bound">𝒟</a><a id="3172" class="Symbol">)</a> <a id="3174" href="A201802.WIP.LR2e.html#3174" class="Bound">ℰ</a><a id="3175" class="Symbol">)</a> <a id="3177" class="Symbol">=</a> <a id="3179" href="A201802.LR1.html#4485" class="Function">cut</a> <a id="3183" href="A201802.WIP.LR2e.html#3174" class="Bound">ℰ</a> <a id="3185" href="A201802.WIP.LR2e.html#3171" class="Bound">𝒟</a>
  <a id="3189" href="A201802.WIP.LR2e.html#3020" class="Function">tp↦</a> <a id="3193" href="A201802.WIP.LR2e.html#1619" class="InductiveConstructor">step-IF-TRUE</a>        <a id="3213" class="Symbol">(</a><a id="3214" href="A201802.LR1.html#1336" class="InductiveConstructor">if</a> <a id="3217" href="A201802.WIP.LR2e.html#3217" class="Bound">𝒟</a> <a id="3219" href="A201802.WIP.LR2e.html#3219" class="Bound">ℰ</a> <a id="3221" href="A201802.WIP.LR2e.html#3221" class="Bound">ℱ</a><a id="3222" class="Symbol">)</a>      <a id="3229" class="Symbol">=</a> <a id="3231" href="A201802.WIP.LR2e.html#3219" class="Bound">ℰ</a>
  <a id="3235" href="A201802.WIP.LR2e.html#3020" class="Function">tp↦</a> <a id="3239" href="A201802.WIP.LR2e.html#1665" class="InductiveConstructor">step-IF-FALSE</a>       <a id="3259" class="Symbol">(</a><a id="3260" href="A201802.LR1.html#1336" class="InductiveConstructor">if</a> <a id="3263" href="A201802.WIP.LR2e.html#3263" class="Bound">𝒟</a> <a id="3265" href="A201802.WIP.LR2e.html#3265" class="Bound">ℰ</a> <a id="3267" href="A201802.WIP.LR2e.html#3267" class="Bound">ℱ</a><a id="3268" class="Symbol">)</a>      <a id="3275" class="Symbol">=</a> <a id="3277" href="A201802.WIP.LR2e.html#3267" class="Bound">ℱ</a>
  <a id="3281" href="A201802.WIP.LR2e.html#3020" class="Function">tp↦</a> <a id="3285" class="Symbol">(</a><a id="3286" href="A201802.WIP.LR2e.html#1712" class="InductiveConstructor">step-cong</a> <a id="3296" href="A201802.WIP.LR2e.html#3296" class="Bound">E</a> <a id="3298" href="A201802.WIP.LR2e.html#3298" class="Bound">M↦M′</a><a id="3302" class="Symbol">)</a> <a id="3304" href="A201802.WIP.LR2e.html#3304" class="Bound">𝒟</a>               <a id="3320" class="Symbol">=</a> <a id="3322" href="A201802.WIP.LR2e.html#3343" class="Function">cong-tp↦</a> <a id="3331" href="A201802.WIP.LR2e.html#3296" class="Bound">E</a> <a id="3333" href="A201802.WIP.LR2e.html#3298" class="Bound">M↦M′</a> <a id="3338" href="A201802.WIP.LR2e.html#3304" class="Bound">𝒟</a>

  <a id="cong-tp↦"></a><a id="3343" href="A201802.WIP.LR2e.html#3343" class="Function">cong-tp↦</a> <a id="3352" class="Symbol">:</a> <a id="3354" class="Symbol">∀</a> <a id="3356" class="Symbol">{</a><a id="3357" href="A201802.WIP.LR2e.html#3357" class="Bound">g</a> <a id="3359" href="A201802.WIP.LR2e.html#3359" class="Bound">M</a> <a id="3361" href="A201802.WIP.LR2e.html#3361" class="Bound">M′</a> <a id="3364" href="A201802.WIP.LR2e.html#3364" class="Bound">A</a><a id="3365" class="Symbol">}</a> <a id="3367" class="Symbol">→</a> <a id="3369" class="Symbol">{</a><a id="3370" href="A201802.WIP.LR2e.html#3370" class="Bound">Γ</a> <a id="3372" class="Symbol">:</a> <a id="3374" href="A201802.LR0.html#447" class="Function">Types</a> <a id="3380" href="A201802.WIP.LR2e.html#3357" class="Bound">g</a><a id="3381" class="Symbol">}</a>
                           <a id="3410" class="Symbol">→</a> <a id="3412" class="Symbol">(</a><a id="3413" href="A201802.WIP.LR2e.html#3413" class="Bound">E</a> <a id="3415" class="Symbol">:</a> <a id="3417" href="A201802.WIP.LR2e.html#948" class="Datatype">EvCx</a> <a id="3422" href="A201802.WIP.LR2e.html#3357" class="Bound">g</a><a id="3423" class="Symbol">)</a> <a id="3425" class="Symbol">→</a> <a id="3427" href="A201802.WIP.LR2e.html#3359" class="Bound">M</a> <a id="3429" href="A201802.WIP.LR2e.html#1521" class="Datatype Operator">↦</a> <a id="3431" href="A201802.WIP.LR2e.html#3361" class="Bound">M′</a> <a id="3434" class="Symbol">→</a> <a id="3436" href="A201802.WIP.LR2e.html#3370" class="Bound">Γ</a> <a id="3438" href="A201802.LR1.html#377" class="Datatype Operator">⊢</a> <a id="3440" href="A201802.WIP.LR2e.html#3413" class="Bound">E</a> <a id="3442" href="A201802.WIP.LR2e.html#1235" class="Function Operator">[</a> <a id="3444" href="A201802.WIP.LR2e.html#3359" class="Bound">M</a> <a id="3446" href="A201802.WIP.LR2e.html#1235" class="Function Operator">]</a> <a id="3448" href="A201802.LR1.html#377" class="Datatype Operator">⦂</a> <a id="3450" href="A201802.WIP.LR2e.html#3364" class="Bound">A</a>
                           <a id="3479" class="Symbol">→</a> <a id="3481" href="A201802.WIP.LR2e.html#3370" class="Bound">Γ</a> <a id="3483" href="A201802.LR1.html#377" class="Datatype Operator">⊢</a> <a id="3485" href="A201802.WIP.LR2e.html#3413" class="Bound">E</a> <a id="3487" href="A201802.WIP.LR2e.html#1235" class="Function Operator">[</a> <a id="3489" href="A201802.WIP.LR2e.html#3361" class="Bound">M′</a> <a id="3492" href="A201802.WIP.LR2e.html#1235" class="Function Operator">]</a> <a id="3494" href="A201802.LR1.html#377" class="Datatype Operator">⦂</a> <a id="3496" href="A201802.WIP.LR2e.html#3364" class="Bound">A</a>
  <a id="3500" href="A201802.WIP.LR2e.html#3343" class="Function">cong-tp↦</a> <a id="3509" href="A201802.WIP.LR2e.html#981" class="InductiveConstructor">ec-[]</a>            <a id="3526" href="A201802.WIP.LR2e.html#3526" class="Bound">M↦M′</a> <a id="3531" href="A201802.WIP.LR2e.html#3531" class="Bound">𝒟</a>          <a id="3542" class="Symbol">=</a> <a id="3544" href="A201802.WIP.LR2e.html#3020" class="Function">tp↦</a> <a id="3548" href="A201802.WIP.LR2e.html#3526" class="Bound">M↦M′</a> <a id="3553" href="A201802.WIP.LR2e.html#3531" class="Bound">𝒟</a>
  <a id="3557" href="A201802.WIP.LR2e.html#3343" class="Function">cong-tp↦</a> <a id="3566" class="Symbol">(</a><a id="3567" href="A201802.WIP.LR2e.html#1005" class="InductiveConstructor">ec-fun-APP</a> <a id="3578" href="A201802.WIP.LR2e.html#3578" class="Bound">E</a> <a id="3580" href="A201802.WIP.LR2e.html#3580" class="Bound">N</a><a id="3581" class="Symbol">)</a> <a id="3583" href="A201802.WIP.LR2e.html#3583" class="Bound">M↦M′</a> <a id="3588" class="Symbol">(</a><a id="3589" href="A201802.LR1.html#578" class="InductiveConstructor">app</a> <a id="3593" href="A201802.WIP.LR2e.html#3593" class="Bound">𝒟</a> <a id="3595" href="A201802.WIP.LR2e.html#3595" class="Bound">ℰ</a><a id="3596" class="Symbol">)</a>  <a id="3599" class="Symbol">=</a> <a id="3601" href="A201802.LR1.html#578" class="InductiveConstructor">app</a> <a id="3605" class="Symbol">(</a><a id="3606" href="A201802.WIP.LR2e.html#3343" class="Function">cong-tp↦</a> <a id="3615" href="A201802.WIP.LR2e.html#3578" class="Bound">E</a> <a id="3617" href="A201802.WIP.LR2e.html#3583" class="Bound">M↦M′</a> <a id="3622" href="A201802.WIP.LR2e.html#3593" class="Bound">𝒟</a><a id="3623" class="Symbol">)</a> <a id="3625" href="A201802.WIP.LR2e.html#3595" class="Bound">ℰ</a>
  <a id="3629" href="A201802.WIP.LR2e.html#3343" class="Function">cong-tp↦</a> <a id="3638" class="Symbol">(</a><a id="3639" href="A201802.WIP.LR2e.html#1047" class="InductiveConstructor">ec-arg-APP</a> <a id="3650" href="A201802.WIP.LR2e.html#3650" class="Bound">N</a> <a id="3652" href="A201802.WIP.LR2e.html#3652" class="Bound">E</a><a id="3653" class="Symbol">)</a> <a id="3655" href="A201802.WIP.LR2e.html#3655" class="Bound">M↦M′</a> <a id="3660" class="Symbol">(</a><a id="3661" href="A201802.LR1.html#578" class="InductiveConstructor">app</a> <a id="3665" href="A201802.WIP.LR2e.html#3665" class="Bound">𝒟</a> <a id="3667" href="A201802.WIP.LR2e.html#3667" class="Bound">ℰ</a><a id="3668" class="Symbol">)</a>  <a id="3671" class="Symbol">=</a> <a id="3673" href="A201802.LR1.html#578" class="InductiveConstructor">app</a> <a id="3677" href="A201802.WIP.LR2e.html#3665" class="Bound">𝒟</a> <a id="3679" class="Symbol">(</a><a id="3680" href="A201802.WIP.LR2e.html#3343" class="Function">cong-tp↦</a> <a id="3689" href="A201802.WIP.LR2e.html#3652" class="Bound">E</a> <a id="3691" href="A201802.WIP.LR2e.html#3655" class="Bound">M↦M′</a> <a id="3696" href="A201802.WIP.LR2e.html#3667" class="Bound">ℰ</a><a id="3697" class="Symbol">)</a>
  <a id="3701" href="A201802.WIP.LR2e.html#3343" class="Function">cong-tp↦</a> <a id="3710" class="Symbol">(</a><a id="3711" href="A201802.WIP.LR2e.html#1113" class="InductiveConstructor">ec-IF</a> <a id="3717" href="A201802.WIP.LR2e.html#3717" class="Bound">E</a> <a id="3719" href="A201802.WIP.LR2e.html#3719" class="Bound">N</a> <a id="3721" href="A201802.WIP.LR2e.html#3721" class="Bound">O</a><a id="3722" class="Symbol">)</a>    <a id="3727" href="A201802.WIP.LR2e.html#3727" class="Bound">M↦M′</a> <a id="3732" class="Symbol">(</a><a id="3733" href="A201802.LR1.html#1336" class="InductiveConstructor">if</a> <a id="3736" href="A201802.WIP.LR2e.html#3736" class="Bound">𝒟</a> <a id="3738" href="A201802.WIP.LR2e.html#3738" class="Bound">ℰ</a> <a id="3740" href="A201802.WIP.LR2e.html#3740" class="Bound">ℱ</a><a id="3741" class="Symbol">)</a> <a id="3743" class="Symbol">=</a> <a id="3745" href="A201802.LR1.html#1336" class="InductiveConstructor">if</a> <a id="3748" class="Symbol">(</a><a id="3749" href="A201802.WIP.LR2e.html#3343" class="Function">cong-tp↦</a> <a id="3758" href="A201802.WIP.LR2e.html#3717" class="Bound">E</a> <a id="3760" href="A201802.WIP.LR2e.html#3727" class="Bound">M↦M′</a> <a id="3765" href="A201802.WIP.LR2e.html#3736" class="Bound">𝒟</a><a id="3766" class="Symbol">)</a> <a id="3768" href="A201802.WIP.LR2e.html#3738" class="Bound">ℰ</a> <a id="3770" href="A201802.WIP.LR2e.html#3740" class="Bound">ℱ</a>


<a id="3774" class="Comment">-- `_⤅_` is type-preserving</a>
<a id="tp⤅"></a><a id="3802" href="A201802.WIP.LR2e.html#3802" class="Function">tp⤅</a> <a id="3806" class="Symbol">:</a> <a id="3808" class="Symbol">∀</a> <a id="3810" class="Symbol">{</a><a id="3811" href="A201802.WIP.LR2e.html#3811" class="Bound">g</a> <a id="3813" href="A201802.WIP.LR2e.html#3813" class="Bound">M</a> <a id="3815" href="A201802.WIP.LR2e.html#3815" class="Bound">M′</a> <a id="3818" href="A201802.WIP.LR2e.html#3818" class="Bound">A</a><a id="3819" class="Symbol">}</a> <a id="3821" class="Symbol">→</a> <a id="3823" class="Symbol">{</a><a id="3824" href="A201802.WIP.LR2e.html#3824" class="Bound">Γ</a> <a id="3826" class="Symbol">:</a> <a id="3828" href="A201802.LR0.html#447" class="Function">Types</a> <a id="3834" href="A201802.WIP.LR2e.html#3811" class="Bound">g</a><a id="3835" class="Symbol">}</a>
                    <a id="3857" class="Symbol">→</a> <a id="3859" href="A201802.WIP.LR2e.html#3813" class="Bound">M</a> <a id="3861" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="3863" href="A201802.WIP.LR2e.html#3815" class="Bound">M′</a> <a id="3866" class="Symbol">→</a> <a id="3868" href="A201802.WIP.LR2e.html#3824" class="Bound">Γ</a> <a id="3870" href="A201802.LR1.html#377" class="Datatype Operator">⊢</a> <a id="3872" href="A201802.WIP.LR2e.html#3813" class="Bound">M</a> <a id="3874" href="A201802.LR1.html#377" class="Datatype Operator">⦂</a> <a id="3876" href="A201802.WIP.LR2e.html#3818" class="Bound">A</a>
                    <a id="3898" class="Symbol">→</a> <a id="3900" href="A201802.WIP.LR2e.html#3824" class="Bound">Γ</a> <a id="3902" href="A201802.LR1.html#377" class="Datatype Operator">⊢</a> <a id="3904" href="A201802.WIP.LR2e.html#3815" class="Bound">M′</a> <a id="3907" href="A201802.LR1.html#377" class="Datatype Operator">⦂</a> <a id="3909" href="A201802.WIP.LR2e.html#3818" class="Bound">A</a>
<a id="3911" href="A201802.WIP.LR2e.html#3802" class="Function">tp⤅</a> <a id="3915" href="A201802.WIP.LR2e.html#1962" class="InductiveConstructor">done</a>              <a id="3933" href="A201802.WIP.LR2e.html#3933" class="Bound">𝒟</a> <a id="3935" class="Symbol">=</a> <a id="3937" href="A201802.WIP.LR2e.html#3933" class="Bound">𝒟</a>
<a id="3939" href="A201802.WIP.LR2e.html#3802" class="Function">tp⤅</a> <a id="3943" class="Symbol">(</a><a id="3944" href="A201802.WIP.LR2e.html#3944" class="Bound">M↦M″</a> <a id="3949" href="A201802.WIP.LR2e.html#1987" class="InductiveConstructor Operator">⨾₁</a> <a id="3952" href="A201802.WIP.LR2e.html#3952" class="Bound">M″⤅M′</a><a id="3957" class="Symbol">)</a> <a id="3959" href="A201802.WIP.LR2e.html#3959" class="Bound">𝒟</a> <a id="3961" class="Symbol">=</a> <a id="3963" href="A201802.WIP.LR2e.html#3802" class="Function">tp⤅</a> <a id="3967" class="Symbol">(</a><a id="3968" href="A201802.WIP.LR2e.html#3952" class="Bound">M″⤅M′</a><a id="3973" class="Symbol">)</a> <a id="3975" class="Symbol">(</a><a id="3976" href="A201802.WIP.LR2e.html#3020" class="Function">tp↦</a> <a id="3980" href="A201802.WIP.LR2e.html#3944" class="Bound">M↦M″</a> <a id="3985" href="A201802.WIP.LR2e.html#3959" class="Bound">𝒟</a><a id="3986" class="Symbol">)</a>


<a id="3990" class="Comment">--------------------------------------------------------------------------------</a>


<a id="eval-IF"></a><a id="4073" href="A201802.WIP.LR2e.html#4073" class="Function">eval-IF</a> <a id="4081" class="Symbol">:</a> <a id="4083" class="Symbol">∀</a> <a id="4085" class="Symbol">{</a><a id="4086" href="A201802.WIP.LR2e.html#4086" class="Bound">g</a><a id="4087" class="Symbol">}</a> <a id="4089" class="Symbol">→</a> <a id="4091" class="Symbol">{</a><a id="4092" href="A201802.WIP.LR2e.html#4092" class="Bound">M</a> <a id="4094" href="A201802.WIP.LR2e.html#4094" class="Bound">M′</a> <a id="4097" href="A201802.WIP.LR2e.html#4097" class="Bound">N</a> <a id="4099" href="A201802.WIP.LR2e.html#4099" class="Bound">O</a> <a id="4101" class="Symbol">:</a> <a id="4103" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="4108" href="A201802.WIP.LR2e.html#4086" class="Bound">g</a><a id="4109" class="Symbol">}</a>
                <a id="4127" class="Symbol">→</a> <a id="4129" href="A201802.WIP.LR2e.html#4092" class="Bound">M</a> <a id="4131" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="4133" href="A201802.WIP.LR2e.html#4094" class="Bound">M′</a>
                <a id="4152" class="Symbol">→</a> <a id="4154" href="A201802.LR0.html#999" class="InductiveConstructor">IF</a> <a id="4157" href="A201802.WIP.LR2e.html#4092" class="Bound">M</a> <a id="4159" href="A201802.WIP.LR2e.html#4097" class="Bound">N</a> <a id="4161" href="A201802.WIP.LR2e.html#4099" class="Bound">O</a> <a id="4163" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="4165" href="A201802.LR0.html#999" class="InductiveConstructor">IF</a> <a id="4168" href="A201802.WIP.LR2e.html#4094" class="Bound">M′</a> <a id="4171" href="A201802.WIP.LR2e.html#4097" class="Bound">N</a> <a id="4173" href="A201802.WIP.LR2e.html#4099" class="Bound">O</a>
<a id="4175" href="A201802.WIP.LR2e.html#4073" class="Function">eval-IF</a> <a id="4183" class="Symbol">{</a><a id="4184" class="Argument">N</a> <a id="4186" class="Symbol">=</a> <a id="4188" href="A201802.WIP.LR2e.html#4188" class="Bound">N</a><a id="4189" class="Symbol">}</a> <a id="4191" class="Symbol">{</a><a id="4192" href="A201802.WIP.LR2e.html#4192" class="Bound">O</a><a id="4193" class="Symbol">}</a> <a id="4195" href="A201802.WIP.LR2e.html#1962" class="InductiveConstructor">done</a>              <a id="4213" class="Symbol">=</a> <a id="4215" href="A201802.WIP.LR2e.html#1962" class="InductiveConstructor">done</a>
<a id="4220" href="A201802.WIP.LR2e.html#4073" class="Function">eval-IF</a> <a id="4228" class="Symbol">{</a><a id="4229" class="Argument">N</a> <a id="4231" class="Symbol">=</a> <a id="4233" href="A201802.WIP.LR2e.html#4233" class="Bound">N</a><a id="4234" class="Symbol">}</a> <a id="4236" class="Symbol">{</a><a id="4237" href="A201802.WIP.LR2e.html#4237" class="Bound">O</a><a id="4238" class="Symbol">}</a> <a id="4240" class="Symbol">(</a><a id="4241" href="A201802.WIP.LR2e.html#4241" class="Bound">M↦M″</a> <a id="4246" href="A201802.WIP.LR2e.html#1987" class="InductiveConstructor Operator">⨾₁</a> <a id="4249" href="A201802.WIP.LR2e.html#4249" class="Bound">M″⤅M′</a><a id="4254" class="Symbol">)</a> <a id="4256" class="Symbol">=</a> <a id="4258" href="A201802.WIP.LR2e.html#1712" class="InductiveConstructor">step-cong</a> <a id="4268" class="Symbol">(</a><a id="4269" href="A201802.WIP.LR2e.html#1113" class="InductiveConstructor">ec-IF</a> <a id="4275" href="A201802.WIP.LR2e.html#981" class="InductiveConstructor">ec-[]</a> <a id="4281" href="A201802.WIP.LR2e.html#4233" class="Bound">N</a> <a id="4283" href="A201802.WIP.LR2e.html#4237" class="Bound">O</a><a id="4284" class="Symbol">)</a> <a id="4286" href="A201802.WIP.LR2e.html#4241" class="Bound">M↦M″</a> <a id="4291" href="A201802.WIP.LR2e.html#1987" class="InductiveConstructor Operator">⨾₁</a> <a id="4294" href="A201802.WIP.LR2e.html#4073" class="Function">eval-IF</a> <a id="4302" href="A201802.WIP.LR2e.html#4249" class="Bound">M″⤅M′</a>


<a id="eval-IF-TRUE"></a><a id="4310" href="A201802.WIP.LR2e.html#4310" class="Function">eval-IF-TRUE</a> <a id="4323" class="Symbol">:</a> <a id="4325" class="Symbol">∀</a> <a id="4327" class="Symbol">{</a><a id="4328" href="A201802.WIP.LR2e.html#4328" class="Bound">g</a><a id="4329" class="Symbol">}</a> <a id="4331" class="Symbol">→</a> <a id="4333" class="Symbol">{</a><a id="4334" href="A201802.WIP.LR2e.html#4334" class="Bound">M</a> <a id="4336" href="A201802.WIP.LR2e.html#4336" class="Bound">N</a> <a id="4338" href="A201802.WIP.LR2e.html#4338" class="Bound">O</a> <a id="4340" class="Symbol">:</a> <a id="4342" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="4347" href="A201802.WIP.LR2e.html#4328" class="Bound">g</a><a id="4348" class="Symbol">}</a>
                     <a id="4371" class="Symbol">→</a> <a id="4373" href="A201802.WIP.LR2e.html#4334" class="Bound">M</a> <a id="4375" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="4377" href="A201802.LR0.html#961" class="InductiveConstructor">TRUE</a>
                     <a id="4403" class="Symbol">→</a> <a id="4405" href="A201802.LR0.html#999" class="InductiveConstructor">IF</a> <a id="4408" href="A201802.WIP.LR2e.html#4334" class="Bound">M</a> <a id="4410" href="A201802.WIP.LR2e.html#4336" class="Bound">N</a> <a id="4412" href="A201802.WIP.LR2e.html#4338" class="Bound">O</a> <a id="4414" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="4416" href="A201802.WIP.LR2e.html#4336" class="Bound">N</a>
<a id="4418" href="A201802.WIP.LR2e.html#4310" class="Function">eval-IF-TRUE</a> <a id="4431" href="A201802.WIP.LR2e.html#4431" class="Bound">M⤅TRUE</a> <a id="4438" class="Symbol">=</a> <a id="4440" href="A201802.WIP.LR2e.html#4073" class="Function">eval-IF</a> <a id="4448" href="A201802.WIP.LR2e.html#4431" class="Bound">M⤅TRUE</a> <a id="4455" href="A201802.WIP.LR2e.html#2117" class="Function Operator">⨾ₙ</a> <a id="4458" class="Symbol">(</a><a id="4459" href="A201802.WIP.LR2e.html#1619" class="InductiveConstructor">step-IF-TRUE</a> <a id="4472" href="A201802.WIP.LR2e.html#1987" class="InductiveConstructor Operator">⨾₁</a> <a id="4475" href="A201802.WIP.LR2e.html#1962" class="InductiveConstructor">done</a><a id="4479" class="Symbol">)</a>


<a id="eval-IF-FALSE"></a><a id="4483" href="A201802.WIP.LR2e.html#4483" class="Function">eval-IF-FALSE</a> <a id="4497" class="Symbol">:</a> <a id="4499" class="Symbol">∀</a> <a id="4501" class="Symbol">{</a><a id="4502" href="A201802.WIP.LR2e.html#4502" class="Bound">g</a><a id="4503" class="Symbol">}</a> <a id="4505" class="Symbol">→</a> <a id="4507" class="Symbol">{</a><a id="4508" href="A201802.WIP.LR2e.html#4508" class="Bound">M</a> <a id="4510" href="A201802.WIP.LR2e.html#4510" class="Bound">N</a> <a id="4512" href="A201802.WIP.LR2e.html#4512" class="Bound">O</a> <a id="4514" class="Symbol">:</a> <a id="4516" href="A201802.LR0.html#576" class="Datatype">Term</a> <a id="4521" href="A201802.WIP.LR2e.html#4502" class="Bound">g</a><a id="4522" class="Symbol">}</a>
                      <a id="4546" class="Symbol">→</a> <a id="4548" href="A201802.WIP.LR2e.html#4508" class="Bound">M</a> <a id="4550" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="4552" href="A201802.LR0.html#980" class="InductiveConstructor">FALSE</a>
                      <a id="4580" class="Symbol">→</a> <a id="4582" href="A201802.LR0.html#999" class="InductiveConstructor">IF</a> <a id="4585" href="A201802.WIP.LR2e.html#4508" class="Bound">M</a> <a id="4587" href="A201802.WIP.LR2e.html#4510" class="Bound">N</a> <a id="4589" href="A201802.WIP.LR2e.html#4512" class="Bound">O</a> <a id="4591" href="A201802.WIP.LR2e.html#1918" class="Datatype Operator">⤅</a> <a id="4593" href="A201802.WIP.LR2e.html#4512" class="Bound">O</a>
<a id="4595" href="A201802.WIP.LR2e.html#4483" class="Function">eval-IF-FALSE</a> <a id="4609" href="A201802.WIP.LR2e.html#4609" class="Bound">M⤅FALSE</a> <a id="4617" class="Symbol">=</a> <a id="4619" href="A201802.WIP.LR2e.html#4073" class="Function">eval-IF</a> <a id="4627" href="A201802.WIP.LR2e.html#4609" class="Bound">M⤅FALSE</a> <a id="4635" href="A201802.WIP.LR2e.html#2117" class="Function Operator">⨾ₙ</a> <a id="4638" class="Symbol">(</a><a id="4639" href="A201802.WIP.LR2e.html#1665" class="InductiveConstructor">step-IF-FALSE</a> <a id="4653" href="A201802.WIP.LR2e.html#1987" class="InductiveConstructor Operator">⨾₁</a> <a id="4656" href="A201802.WIP.LR2e.html#1962" class="InductiveConstructor">done</a><a id="4660" class="Symbol">)</a>


<a id="4664" class="Comment">-- term-IF-TRUE : ∀ {g} → {M N O : Term g}</a>
<a id="4707" class="Comment">--                      → M ⤅ TRUE → N ⇓</a>
<a id="4748" class="Comment">--                      → IF M N O ⇓</a>
<a id="4785" class="Comment">-- term-IF-TRUE M⤅TRUE (N′ , ⟪ N⤅N′ ⟫) = N′ , ⟪ eval-IF-TRUE M⤅TRUE ⨾ₙ N⤅N′ ⟫</a>


<a id="4865" class="Comment">-- term-IF-FALSE : ∀ {g} → {M N O : Term g}</a>
<a id="4909" class="Comment">--                       → M ⤅ FALSE → O ⇓</a>
<a id="4952" class="Comment">--                       → IF M N O ⇓</a>
<a id="4990" class="Comment">-- term-IF-FALSE M⤅FALSE (O′ , ⟪ O⤅O′ ⟫) = O′ , ⟪ eval-IF-FALSE M⤅FALSE ⨾ₙ O⤅O′ ⟫</a>


<a id="5074" class="Keyword">private</a>
  <a id="5084" class="Keyword">module</a> <a id="Impossible"></a><a id="5091" href="A201802.WIP.LR2e.html#5091" class="Module">Impossible</a>
    <a id="5106" class="Keyword">where</a>
      <a id="Impossible.sn"></a><a id="5118" href="A201802.WIP.LR2e.html#5118" class="Function">sn</a> <a id="5121" class="Symbol">:</a> <a id="5123" class="Symbol">∀</a> <a id="5125" class="Symbol">{</a><a id="5126" href="A201802.WIP.LR2e.html#5126" class="Bound">M</a> <a id="5128" href="A201802.WIP.LR2e.html#5128" class="Bound">A</a><a id="5129" class="Symbol">}</a> <a id="5131" class="Symbol">→</a> <a id="5133" href="A201801.Vec.html#295" class="InductiveConstructor">∙</a> <a id="5135" href="A201802.LR1.html#377" class="Datatype Operator">⊢</a> <a id="5137" href="A201802.WIP.LR2e.html#5126" class="Bound">M</a> <a id="5139" href="A201802.LR1.html#377" class="Datatype Operator">⦂</a> <a id="5141" href="A201802.WIP.LR2e.html#5128" class="Bound">A</a>
                   <a id="5162" class="Symbol">→</a> <a id="5164" href="A201802.WIP.LR2e.html#5126" class="Bound">M</a> <a id="5166" href="A201802.WIP.LR2e.html#2614" class="Function Operator">⇓</a>
      <a id="5174" href="A201802.WIP.LR2e.html#5118" class="Function">sn</a> <a id="5177" class="Symbol">(</a><a id="5178" href="A201802.LR1.html#435" class="InductiveConstructor">var</a> <a id="5182" class="Symbol">())</a>
      <a id="5192" href="A201802.WIP.LR2e.html#5118" class="Function">sn</a> <a id="5195" class="Symbol">(</a><a id="5196" href="A201802.LR1.html#501" class="InductiveConstructor">lam</a> <a id="5200" href="A201802.WIP.LR2e.html#5200" class="Bound">𝒟</a><a id="5201" class="Symbol">)</a>    <a id="5206" class="Symbol">=</a> <a id="5208" class="Hole">{!LAM _ , ⟪ done ⟫!}</a>
      <a id="5235" href="A201802.WIP.LR2e.html#5118" class="Function">sn</a> <a id="5238" class="Symbol">(</a><a id="5239" href="A201802.LR1.html#578" class="InductiveConstructor">app</a> <a id="5243" href="A201802.WIP.LR2e.html#5243" class="Bound">𝒟</a> <a id="5245" href="A201802.WIP.LR2e.html#5245" class="Bound">ℰ</a><a id="5246" class="Symbol">)</a>  <a id="5249" class="Symbol">=</a> <a id="5251" class="Hole">{!!}</a>
      <a id="5262" href="A201802.WIP.LR2e.html#5118" class="Function">sn</a> <a id="5265" href="A201802.LR1.html#1284" class="InductiveConstructor">true</a>       <a id="5276" class="Symbol">=</a> <a id="5278" class="Hole">{!TRUE , ⟪ done ⟫!}</a>
      <a id="5304" href="A201802.WIP.LR2e.html#5118" class="Function">sn</a> <a id="5307" href="A201802.LR1.html#1309" class="InductiveConstructor">false</a>      <a id="5318" class="Symbol">=</a> <a id="5320" class="Hole">{!FALSE , ⟪ done ⟫!}</a>
      <a id="5347" href="A201802.WIP.LR2e.html#5118" class="CatchallClause Function">sn</a><a id="5349" class="CatchallClause"> </a><a id="5350" class="CatchallClause Symbol">_</a>          <a id="5361" class="Symbol">=</a> <a id="5363" class="Hole">{!!}</a>
      <a id="5374" class="Comment">-- sn (if 𝒟 ℰ ℱ) with sn 𝒟</a>
      <a id="5407" class="Comment">-- sn (if 𝒟 ℰ ℱ) | M′     , ⟪ M⤅M′ ⟫ with tp⤅ M⤅M′ 𝒟</a>
      <a id="5466" class="Comment">-- sn (if 𝒟 ℰ ℱ) | LAM M″ , ⟪_⟫ {{val-LAM}}   M⤅LAM-M″ | ()</a>
      <a id="5532" class="Comment">-- sn (if 𝒟 ℰ ℱ) | TRUE   , ⟪_⟫ {{val-TRUE}}  M⤅TRUE   | true  = term-IF-TRUE M⤅TRUE (sn ℰ)</a>
      <a id="5630" class="Comment">-- sn (if 𝒟 ℰ ℱ) | FALSE  , ⟪_⟫ {{val-FALSE}} M⤅FALSE  | false = term-IF-FALSE M⤅FALSE (sn ℱ)</a>


<a id="5726" class="Comment">--------------------------------------------------------------------------------</a>
</pre></body></html>