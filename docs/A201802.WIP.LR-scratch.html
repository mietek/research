<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>A201802.WIP.LR-scratch</title><link rel="stylesheet" href="mi-common.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="A201802.WIP.LR-scratch.html" class="Module">A201802.WIP.LR-scratch</a> <a id="31" class="Keyword">where</a>

<a id="38" class="Comment">--------------------------------------------------------------------------------</a>


<a id="121" class="Comment">{-
-- Value non-reduction.
vnr : âˆ€ {g} â†’ {M : Val g} {Mâ€² : Term g}
            â†’ Â¬ (Val.term M â†¦ Mâ€²)
vnr {M = val (LAM M) {{iv-LAM}}}   Mâ†¦Mâ€² = {!!}
vnr {M = val TRUE    {{iv-TRUE}}}  Mâ†¦Mâ€² = {!!}
vnr {M = val FALSE   {{iv-FALSE}}} Mâ†¦Mâ€² = {!!}


-- Determinism.
uniqâ†¦ : âˆ€ {g} â†’ {M Mâ€²â‚ Mâ€²â‚‚ : Term g}
               â†’ M â†¦ Mâ€²â‚ â†’ M â†¦ Mâ€²â‚‚
               â†’ Mâ€²â‚ â‰¡ Mâ€²â‚‚
uniqâ†¦ red-APP-LAM         Mâ†¦Mâ€²â‚‚ = {!!}
uniqâ†¦ red-IF-TRUE         Mâ†¦Mâ€²â‚‚ = {!!}
uniqâ†¦ red-IF-FALSE        Mâ†¦Mâ€²â‚‚ = {!!}
uniqâ†¦ (red-cong E Mâ†¦Mâ€²â‚) Mâ†¦Mâ€²â‚‚ = {!!}

uniqâ¤… : âˆ€ {g} â†’ {M Mâ€²â‚ Mâ€²â‚‚ : Term g}
               â†’ M â¤… Mâ€²â‚ â†’ M â¤… Mâ€²â‚‚
               â†’ Mâ€²â‚ â‰¡ Mâ€²â‚‚
uniqâ¤… done                   done                   = refl
uniqâ¤… done                   (step Mâ†¦Mâ€³â‚‚ Mâ€³â‚‚â¤…Mâ€²â‚‚) = {!!}
uniqâ¤… (step Mâ†¦Mâ€³â‚ Mâ€³â‚â¤…Mâ€²â‚) done                   = {!!}
uniqâ¤… (step Mâ†¦Mâ€³â‚ Mâ€³â‚â¤…Mâ€²â‚) (step Mâ†¦Mâ€³â‚‚ Mâ€³â‚‚â¤…Mâ€²â‚‚) = {!!}
-}</a>



<a id="969" class="Comment">-- foo : âˆ€ {g} â†’ {M Mâ€² : Term g}</a>
<a id="1002" class="Comment">--             â†’ M â¤… Mâ€²</a>
<a id="1026" class="Comment">--             â†’ M â‰¡ Mâ€² âŠ Î£ (Term g) (\ Mâ€³ â†’ M â†¦ Mâ€³ Ã— Mâ€³ â¤… Mâ€²)</a>
<a id="1089" class="Comment">-- foo done                = injâ‚ refl</a>
<a id="1128" class="Comment">-- foo (step Mâ†¦Mâ€³ Mâ€³â¤…Mâ€²) = injâ‚‚ (_ , (Mâ†¦Mâ€³ , Mâ€³â¤…Mâ€²))</a>


<a id="1183" class="Comment">-- inj-VAR : âˆ€ {g} â†’ {Iâ‚ Iâ‚‚ : Fin g}</a>
<a id="1220" class="Comment">--                 â†’ VAR Iâ‚ â‰¡ VAR Iâ‚‚</a>
<a id="1257" class="Comment">--                 â†’ Iâ‚ â‰¡ Iâ‚‚</a>
<a id="1286" class="Comment">-- inj-VAR refl = refl</a>

<a id="1310" class="Comment">-- inj-LAM : âˆ€ {g} â†’ {Mâ‚ Mâ‚‚ : Term (suc g)}</a>
<a id="1354" class="Comment">--                 â†’ LAM Mâ‚ â‰¡ LAM Mâ‚‚</a>
<a id="1391" class="Comment">--                 â†’ Mâ‚ â‰¡ Mâ‚‚</a>
<a id="1420" class="Comment">-- inj-LAM refl = refl</a>

<a id="1444" class="Comment">-- inj-APPâ‚ : âˆ€ {g} â†’ {Mâ‚ Mâ‚‚ N : Term g}</a>
<a id="1485" class="Comment">--                  â†’ APP Mâ‚ N â‰¡ APP Mâ‚‚ N</a>
<a id="1527" class="Comment">--                  â†’ Mâ‚ â‰¡ Mâ‚‚</a>
<a id="1557" class="Comment">-- inj-APPâ‚ refl = refl</a>

<a id="1582" class="Comment">-- inj-APPâ‚‚ : âˆ€ {g} â†’ {M Nâ‚ Nâ‚‚ : Term g}</a>
<a id="1623" class="Comment">--                  â†’ APP M Nâ‚ â‰¡ APP M Nâ‚‚</a>
<a id="1665" class="Comment">--                  â†’ Nâ‚ â‰¡ Nâ‚‚</a>
<a id="1695" class="Comment">-- inj-APPâ‚‚ refl = refl</a>

<a id="1720" class="Comment">-- inj-IFâ‚ : âˆ€ {g} â†’ {Mâ‚ Mâ‚‚ N O : Term g}</a>
<a id="1762" class="Comment">--                 â†’ IF Mâ‚ N O â‰¡ IF Mâ‚‚ N O</a>
<a id="1805" class="Comment">--                 â†’ Mâ‚ â‰¡ Mâ‚‚</a>
<a id="1834" class="Comment">-- inj-IFâ‚ refl = refl</a>

<a id="1858" class="Comment">-- inj-IFâ‚‚ : âˆ€ {g} â†’ {M Nâ‚ Nâ‚‚ O : Term g}</a>
<a id="1900" class="Comment">--                 â†’ IF M Nâ‚ O â‰¡ IF M Nâ‚‚ O</a>
<a id="1943" class="Comment">--                 â†’ Nâ‚ â‰¡ Nâ‚‚</a>
<a id="1972" class="Comment">-- inj-IFâ‚‚ refl = refl</a>

<a id="1996" class="Comment">-- inj-IFâ‚ƒ : âˆ€ {g} â†’ {M N Oâ‚ Oâ‚‚ : Term g}</a>
<a id="2038" class="Comment">--                 â†’ IF M N Oâ‚ â‰¡ IF M N Oâ‚‚</a>
<a id="2081" class="Comment">--                 â†’ Oâ‚ â‰¡ Oâ‚‚</a>
<a id="2110" class="Comment">-- inj-IFâ‚ƒ refl = refl</a>


<a id="2135" class="Comment">-- inj[]â‚ : âˆ€ {g} â†’ {Eâ‚ Eâ‚‚ : EvCx g} {M : Term g}</a>
<a id="2185" class="Comment">--                â†’ Eâ‚ [ M ] â‰¡ Eâ‚‚ [ M ]</a>
<a id="2225" class="Comment">--                â†’ Eâ‚ â‰¡ Eâ‚‚</a>
<a id="2253" class="Comment">-- inj[]â‚ {Eâ‚ = Eâ‚} {Eâ‚‚} p = {!!}</a>

<a id="2288" class="Comment">-- inj[]â‚‚ : âˆ€ {g} â†’ {Mâ‚ Mâ‚‚ : Term g}</a>
<a id="2325" class="Comment">--                â†’ (E : EvCx g) â†’ E [ Mâ‚ ] â‰¡ E [ Mâ‚‚ ]</a>
<a id="2380" class="Comment">--                â†’ Mâ‚ â‰¡ Mâ‚‚</a>
<a id="2408" class="Comment">-- inj[]â‚‚ ec-[]            refl = refl</a>
<a id="2447" class="Comment">-- inj[]â‚‚ (ec-fun-APP E N) p    = inj[]â‚‚ E (inj-APPâ‚ p)</a>
<a id="2503" class="Comment">-- inj[]â‚‚ (ec-APP-arg M E) p    = inj[]â‚‚ E (inj-APPâ‚‚ p)</a>
<a id="2559" class="Comment">-- inj[]â‚‚ (ec-IF E N O)    p    = inj[]â‚‚ E (inj-IFâ‚ p)</a>


<a id="2616" class="Comment">-- uniq[] : âˆ€ {g} â†’ {M Mâ€²â‚ Mâ€²â‚‚ : Term g}</a>
<a id="2657" class="Comment">--                â†’ (E : EvCx g) â†’ E [ M ] â‰¡ Mâ€²â‚ â†’ E [ M ] â‰¡ Mâ€²â‚‚</a>
<a id="2722" class="Comment">--                â†’ Mâ€²â‚ â‰¡ Mâ€²â‚‚</a>
<a id="2752" class="Comment">-- uniq[] E refl refl = refl</a>


<a id="2783" class="Comment">-- uniqâ†¦ : âˆ€ {g} â†’ {M Mâ€²â‚ Mâ€²â‚‚ : Term g}</a>
<a id="2823" class="Comment">--                â†’ M â†¦ Mâ€²â‚ â†’ M â†¦ Mâ€²â‚‚</a>
<a id="2861" class="Comment">--                â†’ Mâ€²â‚ â‰¡ Mâ€²â‚‚</a>
<a id="2891" class="Comment">-- uniqâ†¦ (red-APP-LAM {{refl}})               (red-APP-LAM {{refl}})               = refl</a>
<a id="2981" class="Comment">-- uniqâ†¦ red-IF-TRUE                          red-IF-TRUE                          = refl</a>
<a id="3071" class="Comment">-- uniqâ†¦ red-IF-FALSE                         red-IF-FALSE                         = refl</a>
<a id="3161" class="Comment">-- uniqâ†¦ (red-cong Eâ‚ Mâ†¦Mâ€²â‚ {{pâ‚}} {{refl}}) (red-APP-LAM {{refl}})               = {!!}</a>
<a id="3250" class="Comment">-- uniqâ†¦ (red-cong Eâ‚ Mâ†¦Mâ€²â‚ {{pâ‚}} {{refl}}) red-IF-TRUE                          = {!!}</a>
<a id="3339" class="Comment">-- uniqâ†¦ (red-cong Eâ‚ Mâ†¦Mâ€²â‚ {{pâ‚}} {{refl}}) red-IF-FALSE                         = {!!}</a>
<a id="3428" class="Comment">-- uniqâ†¦ (red-APP-LAM {{refl}})               (red-cong Eâ‚‚ Mâ†¦Mâ€²â‚‚ {{pâ‚‚}} {{refl}}) = {!!}</a>
<a id="3517" class="Comment">-- uniqâ†¦ red-IF-TRUE                          (red-cong Eâ‚‚ Mâ†¦Mâ€²â‚‚ {{pâ‚‚}} {{refl}}) = {!!}</a>
<a id="3606" class="Comment">-- uniqâ†¦ red-IF-FALSE                         (red-cong Eâ‚‚ Mâ†¦Mâ€²â‚‚ {{pâ‚‚}} {{refl}}) = {!!}</a>
<a id="3695" class="Comment">-- uniqâ†¦ (red-cong Eâ‚ Mâ†¦Mâ€²â‚ {{pâ‚}} {{refl}}) (red-cong Eâ‚‚ Mâ†¦Mâ€²â‚‚ {{pâ‚‚}} {{refl}}) = {!uniqâ†¦ Mâ†¦Mâ€²â‚ Mâ†¦Mâ€²â‚‚!}</a>


<a id="3802" class="Comment">-- bar : âˆ€ {g} â†’ {M Mâ€² Mâ€³ : Term g}</a>
<a id="3838" class="Comment">--             â†’ M â†¦ Mâ€² â†’ M â¤… Mâ€³ â†’ {{_ : Â¬ (M â‰¡ Mâ€³)}}</a>
<a id="3892" class="Comment">--             â†’ Mâ€² â¤… Mâ€³</a>
<a id="3917" class="Comment">-- bar Mâ†¦Mâ€² done                {{p}} = refl â†¯ p</a>
<a id="3966" class="Comment">-- bar Mâ†¦Mâ€² (step Mâ†¦MÂ° MÂ°â¤…Mâ€³) = {!!}</a>


<a id="4005" class="Comment">-- oops : âˆ€ {g} â†’ {M Mâ€² Mâ€³ : Term g}</a>
<a id="4042" class="Comment">--              â†’ M â†¦ Mâ€² â†’ M â¤… Mâ€³</a>
<a id="4076" class="Comment">--              â†’ Mâ€² â¤… Mâ€³</a>
<a id="4102" class="Comment">-- oops Mâ†¦Mâ€² done                = {!!}</a>
<a id="4142" class="Comment">-- oops Mâ†¦Mâ€² (step Mâ†¦MÂ° MÂ°â¤…Mâ€³) = {!!}</a>


<a id="4182" class="Comment">-- --------------------------------------------------------------------------------</a>


<a id="4268" class="Comment">-- red-cong-APP-LAM : âˆ€ {g} â†’ {M N Nâ€² : Term g} {Mâ€² : Term (suc g)}</a>
<a id="4336" class="Comment">--                          â†’ M â¤… LAM Mâ€² â†’ N â¤… Nâ€²</a>
<a id="4386" class="Comment">--                          â†’ APP (LAM Mâ€²) N â¤… CUT Nâ€² Mâ€²</a>
<a id="4443" class="Comment">-- red-cong-APP-LAM Mâ¤…LAM-Mâ€² Nâ¤…Nâ€² = {!!}</a>


<a id="4486" class="Comment">-- halt-APP : âˆ€ {g} â†’ {M N : Term g} {Mâ€² : Term (suc g)}</a>
<a id="4543" class="Comment">--                  â†’ M â¤… LAM Mâ€² â†’ Mâ€² â‡“ â†’ N â‡“</a>
<a id="4589" class="Comment">--                  â†’ APP M N â‡“</a>
<a id="4621" class="Comment">-- halt-APP Mâ¤…LAM-Mâ€² Mâ€²â‡“ Nâ‡“ = {!!}</a>




<a id="4660" class="Comment">-- -- SNs : âˆ€ {g} â†’ Vals 0 g â†’ Types g â†’ Set</a>
<a id="4705" class="Comment">-- -- SNs (vals âˆ™)                       âˆ™       = âŠ¤</a>
<a id="4758" class="Comment">-- -- SNs (vals (Ï„ , M) {{av-Ï„ , iv-M}}) (Î“ , A) = SNs (vals Ï„ {{av-Ï„}}) Î“ Ã— SN M A</a>


<a id="4844" class="Comment">-- -- derps : âˆ€ {g} â†’ {Ï„ : Vals 0 g} {Î“ : Types g}</a>
<a id="4895" class="Comment">-- --               â†’ SNs Ï„ Î“</a>
<a id="4925" class="Comment">-- --               â†’ âˆ™ âŠ¢ Vals.terms Ï„ â¦‚ Î“ all</a>
<a id="4972" class="Comment">-- -- derps {Ï„ = vals âˆ™}                       {âˆ™}     âˆ™       = âˆ™</a>
<a id="5039" class="Comment">-- -- derps {Ï„ = vals (Ï„ , M) {{av-Ï„ , iv-M}}} {Î“ , A} (Ïƒ , s) = derps Ïƒ , derp s</a>


<a id="5123" class="Comment">-- -- tp-SUB : âˆ€ {g M A} â†’ {Ï„ : Vals 0 g} {Î“ : Types g}</a>
<a id="5179" class="Comment">-- --                    â†’ SNs Ï„ Î“ â†’ Î“ âŠ¢ M â¦‚ A</a>
<a id="5226" class="Comment">-- --                    â†’ âˆ™ âŠ¢ SUB (Vals.terms Ï„) M â¦‚ A</a>
<a id="5282" class="Comment">-- -- tp-SUB Ïƒ ğ’Ÿ = sub (derps Ïƒ) ğ’Ÿ</a>


<a id="5319" class="Comment">-- -- sn-lemâ‚ : âˆ€ {A M Mâ€²} â†’ M â†¦ Mâ€² â†’ âˆ™ âŠ¢ M â¦‚ A â†’ SN Mâ€² A</a>
<a id="5377" class="Comment">-- --                      â†’ SN M A</a>
<a id="5413" class="Comment">-- -- sn-lemâ‚ {ğ”¹}     Mâ†¦Mâ€² ğ’Ÿ (ğ’Ÿâ€² , (Mâ€³ , Mâ€²â¤…Mâ€³))     = ğ’Ÿ , (Mâ€³ , step Mâ†¦Mâ€² Mâ€²â¤…Mâ€³)</a>
<a id="5495" class="Comment">-- -- sn-lemâ‚ {A âŠƒ B} Mâ†¦Mâ€² ğ’Ÿ (ğ’Ÿâ€² , (Mâ€³ , Mâ€²â¤…Mâ€³) , f) =</a>
<a id="5550" class="Comment">-- --   ğ’Ÿ , (Mâ€³ , step Mâ†¦Mâ€² Mâ€²â¤…Mâ€³) , (\ s â†’ sn-lemâ‚ (red-cong (ec-fun-APP ec-[] _) Mâ†¦Mâ€²)</a>
<a id="5639" class="Comment">-- --                                                  (app ğ’Ÿ (derp s)) (f s))</a>


<a id="5720" class="Comment">-- -- sn-lemâ‚‚ : âˆ€ {A M Mâ€²} â†’ M â†¦ Mâ€² â†’ âˆ™ âŠ¢ M â¦‚ A â†’ SN M A</a>
<a id="5777" class="Comment">-- --                      â†’ SN Mâ€² A</a>
<a id="5814" class="Comment">-- -- sn-lemâ‚‚ {ğ”¹}     Mâ†¦Mâ€² ğ’Ÿ (_ , (Mâ€³ , Mâ¤…Mâ€³))     = {!!}</a>
<a id="5872" class="Comment">-- -- sn-lemâ‚‚ {A âŠƒ B} Mâ†¦Mâ€² ğ’Ÿ (_ , (Mâ€³ , Mâ¤…Mâ€³) , f) = {!!}</a>


<a id="5932" class="Comment">-- -- sn-SUB : âˆ€ {g M A} â†’ {Ï„ : Vals 0 g} {Î“ : Types g}</a>
<a id="5988" class="Comment">-- --                    â†’ SNs Ï„ Î“ â†’ Î“ âŠ¢ M â¦‚ A</a>
<a id="6035" class="Comment">-- --                    â†’ SN (SUB (Vals.terms Ï„) M) A</a>
<a id="6090" class="Comment">-- -- sn-SUB Ïƒ (var i)    = {!!}</a>
<a id="6123" class="Comment">-- -- sn-SUB Ïƒ (lam ğ’Ÿ)    = {!!}</a>
<a id="6156" class="Comment">-- -- sn-SUB Ïƒ (app ğ’Ÿ â„°)  = {!!}</a>
<a id="6189" class="Comment">-- -- sn-SUB Ïƒ true       = true , (val TRUE , done)</a>
<a id="6242" class="Comment">-- -- sn-SUB Ïƒ false      = false , (val FALSE , done)</a>
<a id="6297" class="Comment">-- -- sn-SUB Ïƒ (if ğ’Ÿ â„° â„±) = {!!}</a>


<a id="6332" class="Comment">-- -- --------------------------------------------------------------------------------</a>
</pre></body></html>