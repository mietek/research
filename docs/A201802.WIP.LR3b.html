<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>A201802.WIP.LR3b</title><link rel="stylesheet" href="mi-common.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--rewriting</a> <a id="25" class="Symbol">#-}</a>

<a id="30" class="Keyword">module</a> <a id="37" href="A201802.WIP.LR3b.html" class="Module">A201802.WIP.LR3b</a> <a id="54" class="Keyword">where</a>

<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="A201801.Prelude.html" class="Module">A201801.Prelude</a>
<a id="89" class="Keyword">open</a> <a id="94" class="Keyword">import</a> <a id="101" href="A201801.Category.html" class="Module">A201801.Category</a>
<a id="118" class="Keyword">open</a> <a id="123" class="Keyword">import</a> <a id="130" href="A201801.Fin.html" class="Module">A201801.Fin</a>
<a id="142" class="Keyword">open</a> <a id="147" class="Keyword">import</a> <a id="154" href="A201801.FinLemmas.html" class="Module">A201801.FinLemmas</a>
<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="A201801.Vec.html" class="Module">A201801.Vec</a>
<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="A201801.VecLemmas.html" class="Module">A201801.VecLemmas</a>
<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="A201801.AllVec.html" class="Module">A201801.AllVec</a>

<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="A201802.LR0.html" class="Module">A201802.LR0</a>
<a id="278" class="Keyword">open</a> <a id="283" class="Keyword">import</a> <a id="290" href="A201802.LR0Lemmas.html" class="Module">A201802.LR0Lemmas</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="A201802.LR1.html" class="Module">A201802.LR1</a>
<a id="332" class="Keyword">open</a> <a id="337" class="Keyword">import</a> <a id="344" href="A201802.LR2.html" class="Module">A201802.LR2</a> <a id="356" class="Comment">-- TODO: which LR2?</a>


<a id="378" class="Comment">--------------------------------------------------------------------------------</a>


<a id="461" class="Comment">-- -- TODO: Improve naming for all `id-cons-*` lemmas and this one.</a>
<a id="529" class="Comment">-- -- TODO: Move to LR0Lemmas.</a>

<a id="561" class="Comment">-- lem-cons-SUBS : âˆ€ {g n m} â†’ (Ï„ : Terms g n) (M : Term g) (Ï… : Terms n m)</a>
<a id="637" class="Comment">--                           â†’ (SUBS (Ï„ , M) âˆ˜ LIFTS) Ï… â‰¡ SUBS Ï„ Ï… , M</a>
<a id="708" class="Comment">-- lem-cons-SUBS Ï„ M Ï… = (_, M) &amp; id-cons-WKS-SUBS Ï„ M Ï…</a>


<a id="767" class="Comment">-- comp-CUT-SUB-LIFTS : âˆ€ {g n} â†’ (N : Term g) (Ï„ : Terms g n) (M : Term (suc n))</a>
<a id="849" class="Comment">--                              â†’ SUB (Ï„ , N) M â‰¡ (CUT N âˆ˜ SUB (LIFTS Ï„)) M</a>
<a id="925" class="Comment">-- comp-CUT-SUB-LIFTS N Ï„ M = (\ Ï„â€² â†’ SUB Ï„â€² M) &amp; ( (_, N) &amp; lid-SUBS Ï„ â»Â¹</a>
<a id="1000" class="Comment">--                                                 â‹® lem-cons-SUBS IDS N Ï„ â»Â¹</a>
<a id="1078" class="Comment">--                                                 )</a>
<a id="1131" class="Comment">--                          â‹® comp-SUB (IDS , N) (LIFTS Ï„) M</a>


<a id="1194" class="Comment">-- --------------------------------------------------------------------------------</a>


<a id="1280" class="Comment">-- -- uniqâ†¦ : âˆ€ {g} â†’ {M Mâ€²â‚ Mâ€²â‚‚ : Term g}</a>
<a id="1323" class="Comment">-- --                â†’ M â†¦ Mâ€²â‚ â†’ M â†¦ Mâ€²â‚‚</a>
<a id="1364" class="Comment">-- --                â†’ Mâ€²â‚ â‰¡ Mâ€²â‚‚</a>
<a id="1397" class="Comment">-- -- uniqâ†¦ red-APP-LAM                 red-APP-LAM                 = refl</a>
<a id="1472" class="Comment">-- -- uniqâ†¦ red-APP-LAM                 (red-cong Eâ‚‚ Mâ†¦Mâ€²â‚‚ {{pâ‚‚}}) = {!!}</a>
<a id="1546" class="Comment">-- -- uniqâ†¦ red-IF-TRUE                 red-IF-TRUE                 = refl</a>
<a id="1621" class="Comment">-- -- uniqâ†¦ red-IF-TRUE                 (red-cong Eâ‚‚ Mâ†¦Mâ€²â‚‚ {{pâ‚‚}}) = {!!}</a>
<a id="1695" class="Comment">-- -- uniqâ†¦ red-IF-FALSE                red-IF-FALSE                = refl</a>
<a id="1770" class="Comment">-- -- uniqâ†¦ red-IF-FALSE                (red-cong Eâ‚‚ Mâ†¦Mâ€²â‚‚ {{pâ‚‚}}) = {!!}</a>
<a id="1844" class="Comment">-- -- uniqâ†¦ (red-cong Eâ‚ Mâ†¦Mâ€²â‚ {{pâ‚}}) red-APP-LAM                 = {!!}</a>
<a id="1918" class="Comment">-- -- uniqâ†¦ (red-cong Eâ‚ Mâ†¦Mâ€²â‚ {{pâ‚}}) red-IF-TRUE                 = {!!}</a>
<a id="1992" class="Comment">-- -- uniqâ†¦ (red-cong Eâ‚ Mâ†¦Mâ€²â‚ {{pâ‚}}) red-IF-FALSE                = {!!}</a>
<a id="2066" class="Comment">-- -- uniqâ†¦ (red-cong Eâ‚ Mâ†¦Mâ€²â‚ {{pâ‚}}) (red-cong Eâ‚‚ Mâ†¦Mâ€²â‚‚ {{pâ‚‚}}) = {!!}</a>


<a id="2141" class="Comment">-- postulate</a>
<a id="2154" class="Comment">--   oops : âˆ€ {g} â†’ {M Mâ€² Mâ€³ : Term g}</a>
<a id="2193" class="Comment">--                â†’ M â†¦ Mâ€² â†’ M â¤… Mâ€³</a>
<a id="2229" class="Comment">--                â†’ Mâ€² â¤… Mâ€³</a>
<a id="2257" class="Comment">-- -- oops Mâ†¦Mâ€² done                = {!!}</a>
<a id="2300" class="Comment">-- -- oops Mâ†¦Mâ€² (step Mâ†¦MÂ° MÂ°â¤…Mâ€³) = {!!}</a>


<a id="2343" class="Comment">-- --------------------------------------------------------------------------------</a>


<a id="2429" class="Comment">-- -- TODO</a>
<a id="2440" class="Comment">-- SN : Term 0 â†’ Type â†’ Set</a>
<a id="2468" class="Comment">-- SN M ğ”¹       = âˆ™ âŠ¢ M â¦‚ ğ”¹ Ã— M â‡“</a>
<a id="2502" class="Comment">-- SN M (A âŠƒ B) = âˆ™ âŠ¢ M â¦‚ A âŠƒ B Ã— M â‡“ Ã— (âˆ€ {N} â†’ SN N A â†’ SN (APP M N) B)</a>


<a id="2578" class="Comment">-- -- TODO</a>
<a id="2589" class="Comment">-- derp : âˆ€ {A M} â†’ SN M A</a>
<a id="2616" class="Comment">--                â†’ âˆ™ âŠ¢ M â¦‚ A</a>
<a id="2646" class="Comment">-- derp {ğ”¹}     (ğ’Ÿ , Mâ‡“)     = ğ’Ÿ</a>
<a id="2679" class="Comment">-- derp {A âŠƒ B} (ğ’Ÿ , Mâ‡“ , f) = ğ’Ÿ</a>


<a id="2714" class="Comment">-- --------------------------------------------------------------------------------</a>


<a id="2800" class="Comment">-- -- Small-step reduction preserves SN.</a>
<a id="2841" class="Comment">-- snpâ†¦ : âˆ€ {A M Mâ€²} â†’ M â†¦ Mâ€² â†’ âˆ™ âŠ¢ M â¦‚ A â†’ SN Mâ€² A</a>
<a id="2893" class="Comment">--                    â†’ SN M A</a>
<a id="2924" class="Comment">-- snpâ†¦ {ğ”¹}     Mâ†¦Mâ€² ğ’Ÿ (ğ’Ÿâ€² , (Mâ€³ , (iv-Mâ€³ , Mâ€²â¤…Mâ€³)))     = ğ’Ÿ , (Mâ€³ , (iv-Mâ€³ , step Mâ†¦Mâ€² Mâ€²â¤…Mâ€³))</a>
<a id="3020" class="Comment">-- snpâ†¦ {A âŠƒ B} Mâ†¦Mâ€² ğ’Ÿ (ğ’Ÿâ€² , (Mâ€³ , (iv-Mâ€³ , Mâ€²â¤…Mâ€³)) , f) = ğ’Ÿ , (Mâ€³ , (iv-Mâ€³ , step Mâ†¦Mâ€² Mâ€²â¤…Mâ€³)) , (\ s â†’</a>
<a id="3125" class="Comment">--                                                              snpâ†¦ (red-fun-APP Mâ†¦Mâ€²) (app ğ’Ÿ (derp s)) (f s))</a>


<a id="3239" class="Comment">-- -- Big-step reduction preserves SN.</a>
<a id="3278" class="Comment">-- snpâ¤… : âˆ€ {A M Mâ€²} â†’ M â¤… Mâ€² â†’ âˆ™ âŠ¢ M â¦‚ A â†’ SN Mâ€² A</a>
<a id="3330" class="Comment">--                    â†’ SN M A</a>
<a id="3361" class="Comment">-- snpâ¤… done                ğ’Ÿ s = s</a>
<a id="3397" class="Comment">-- snpâ¤… (step Mâ†¦Mâ€³ Mâ€³â¤…Mâ€²) ğ’Ÿ s = snpâ†¦ Mâ†¦Mâ€³ ğ’Ÿ (snpâ¤… Mâ€³â¤…Mâ€² (tpâ†¦ Mâ†¦Mâ€³ ğ’Ÿ) s)</a>


<a id="3471" class="Comment">-- -- IF `M` reduces to `TRUE`, and `N` is SN, then `IF M N O` is SN.</a>
<a id="3541" class="Comment">-- sn-IF-TRUE : âˆ€ {C M N O} â†’ M â¤… TRUE â†’ âˆ™ âŠ¢ M â¦‚ ğ”¹ â†’ SN N C â†’ âˆ™ âŠ¢ O â¦‚ C</a>
<a id="3613" class="Comment">--                          â†’ SN (IF M N O) C</a>
<a id="3659" class="Comment">-- sn-IF-TRUE {ğ”¹}     Mâ¤…TRUE ğ’Ÿ (â„° , Nâ‡“)     â„± = if ğ’Ÿ â„° â„± , halt-IF-TRUE Mâ¤…TRUE Nâ‡“</a>
<a id="3741" class="Comment">-- sn-IF-TRUE {A âŠƒ B} Mâ¤…TRUE ğ’Ÿ (â„° , Nâ‡“ , f) â„± = if ğ’Ÿ â„° â„± , halt-IF-TRUE Mâ¤…TRUE Nâ‡“ , (\ s â†’</a>
<a id="3832" class="Comment">--                                                 snpâ¤… (step-fun-APP (step-IF-TRUE Mâ¤…TRUE done)) (app (if ğ’Ÿ â„° â„±) (derp s)) (f s))</a>


<a id="3965" class="Comment">-- -- IF `M` reduces to `FALSE`, and `O` is SN, then `IF M N O` is SN.</a>
<a id="4036" class="Comment">-- sn-IF-FALSE : âˆ€ {C M N O} â†’ M â¤… FALSE â†’ âˆ™ âŠ¢ M â¦‚ ğ”¹ â†’ âˆ™ âŠ¢ N â¦‚ C â†’ SN O C</a>
<a id="4110" class="Comment">--                           â†’ SN (IF M N O) C</a>
<a id="4157" class="Comment">-- sn-IF-FALSE {ğ”¹}     Mâ¤…FALSE ğ’Ÿ â„° (â„± , Oâ‡“)     = if ğ’Ÿ â„° â„± , halt-IF-FALSE Mâ¤…FALSE Oâ‡“</a>
<a id="4243" class="Comment">-- sn-IF-FALSE {A âŠƒ B} Mâ¤…FALSE ğ’Ÿ â„° (â„± , Oâ‡“ , f) = if ğ’Ÿ â„° â„± , halt-IF-FALSE Mâ¤…FALSE Oâ‡“ , (\ s â†’</a>
<a id="4338" class="Comment">--                                                   snpâ¤… (step-fun-APP (step-IF-FALSE Mâ¤…FALSE done)) (app (if ğ’Ÿ â„° â„±) (derp s)) (f s))</a>


<a id="4475" class="Comment">-- --------------------------------------------------------------------------------</a>


<a id="4561" class="Comment">-- -- TODO: Why do we need this?</a>


<a id="4596" class="Comment">-- -- Small-step reduction preserves SN in reverse.</a>
<a id="4648" class="Comment">-- rsnpâ†¦ : âˆ€ {A M Mâ€²} â†’ M â†¦ Mâ€² â†’ âˆ™ âŠ¢ M â¦‚ A â†’ SN M A</a>
<a id="4700" class="Comment">--                     â†’ SN Mâ€² A</a>
<a id="4733" class="Comment">-- rsnpâ†¦ {ğ”¹}     Mâ†¦Mâ€² ğ’Ÿ (_ , (Mâ€³ , (iv-Mâ€³ , Mâ¤…Mâ€³)))     = tpâ†¦ Mâ†¦Mâ€² ğ’Ÿ , (Mâ€³ , (iv-Mâ€³ , oops Mâ†¦Mâ€² Mâ¤…Mâ€³))</a>
<a id="4836" class="Comment">-- rsnpâ†¦ {A âŠƒ B} Mâ†¦Mâ€² ğ’Ÿ (_ , (Mâ€³ , (iv-Mâ€³ , Mâ¤…Mâ€³)) , f) = tpâ†¦ Mâ†¦Mâ€² ğ’Ÿ , (Mâ€³ , (iv-Mâ€³ , oops Mâ†¦Mâ€² Mâ¤…Mâ€³)) , (\ s â†’</a>
<a id="4948" class="Comment">--                                                             rsnpâ†¦ (red-fun-APP Mâ†¦Mâ€²) (app ğ’Ÿ (derp s)) (f s))</a>


<a id="5062" class="Comment">-- -- Big-step reduction preserves SN in reverse.</a>
<a id="5112" class="Comment">-- rsnpâ¤… : âˆ€ {A M Mâ€²} â†’ M â¤… Mâ€² â†’ âˆ™ âŠ¢ M â¦‚ A â†’ SN M A</a>
<a id="5164" class="Comment">--                     â†’ SN Mâ€² A</a>
<a id="5197" class="Comment">-- rsnpâ¤… done                ğ’Ÿ s = s</a>
<a id="5234" class="Comment">-- rsnpâ¤… (step Mâ†¦Mâ€³ Mâ€³â¤…Mâ€²) ğ’Ÿ s = rsnpâ¤… Mâ€³â¤…Mâ€² (tpâ†¦ Mâ†¦Mâ€³ ğ’Ÿ) (rsnpâ†¦ Mâ†¦Mâ€³ ğ’Ÿ s)</a>


<a id="5311" class="Comment">-- --------------------------------------------------------------------------------</a>


<a id="5397" class="Comment">-- -- TODO</a>
<a id="5408" class="Comment">-- SNs : âˆ€ {g} â†’ (Ï„ : Terms 0 g) â†’ Types g â†’ {{_ : AreVals Ï„}} â†’ Set</a>
<a id="5477" class="Comment">-- SNs Ï„ Î“ = All (\ { (M , A) â†’ SN M A }) (zip Ï„ Î“)</a>


<a id="5531" class="Comment">-- -- TODO</a>
<a id="5542" class="Comment">-- derps : âˆ€ {g} â†’ {Ï„ : Terms 0 g} {Î“ : Types g} â†’ {{_ : AreVals Ï„}}</a>
<a id="5611" class="Comment">--               â†’ SNs Ï„ Î“</a>
<a id="5638" class="Comment">--               â†’ âˆ™ âŠ¢ Ï„ â¦‚ Î“ all</a>
<a id="5671" class="Comment">-- derps Ïƒ = maps derp Ïƒ</a>


<a id="5698" class="Comment">-- --------------------------------------------------------------------------------</a>


<a id="5784" class="Comment">-- -- Substitution is type-preserving.</a>
<a id="5823" class="Comment">-- tp-SUB : âˆ€ {g M A} â†’ {Ï„ : Terms 0 g} {Î“ : Types g} â†’ {{_ : AreVals Ï„}}</a>
<a id="5897" class="Comment">--                    â†’ SNs Ï„ Î“ â†’ Î“ âŠ¢ M â¦‚ A</a>
<a id="5941" class="Comment">--                    â†’ âˆ™ âŠ¢ SUB Ï„ M â¦‚ A</a>
<a id="5981" class="Comment">-- tp-SUB Ïƒ ğ’Ÿ = sub (derps Ïƒ) ğ’Ÿ</a>


<a id="6015" class="Comment">-- -- TODO</a>
<a id="6026" class="Comment">-- red-APP-LAM-SUB : âˆ€ {g M N} â†’ {Ï„ : Terms 0 g} â†’ {{_ : IsVal N}}</a>
<a id="6093" class="Comment">--                             â†’ APP (LAM (SUB (LIFTS Ï„) M)) N â†¦ SUB (Ï„ , N) M</a>
<a id="6172" class="Comment">-- red-APP-LAM-SUB {M = M} {N} {Ï„} rewrite comp-CUT-SUB-LIFTS N Ï„ M = red-APP-LAM</a>


<a id="6256" class="Comment">-- -- TODO</a>
<a id="6267" class="Comment">-- halt-APP-LAM-SUB : âˆ€ {g M N} â†’ {Ï„ : Terms 0 g} â†’ {{_ : AreVals Ï„}} {{_ : IsVal N}}</a>
<a id="6353" class="Comment">--                              â†’ SUB (Ï„ , N) M â‡“</a>
<a id="6403" class="Comment">--                              â†’ APP (LAM (SUB (LIFTS Ï„) M)) N â‡“</a>
<a id="6469" class="Comment">-- halt-APP-LAM-SUB {M = M} (Mâ€² , (iv-Mâ€² , SUB-Mâ¤…Mâ€²)) = Mâ€² , (iv-Mâ€² , step (red-APP-LAM-SUB {M = M}) SUB-Mâ¤…Mâ€²)</a>


<a id="6582" class="Comment">-- -- TODO</a>
<a id="6593" class="Comment">-- sn-APP-LAM-SUB : âˆ€ {B g M N A} â†’ {Ï„ : Terms 0 g} â†’ {{_ : AreVals Ï„}} {{_ : IsVal N}}</a>
<a id="6681" class="Comment">--                                â†’ âˆ™ âŠ¢ SUB Ï„ (LAM M) â¦‚ A âŠƒ B â†’ âˆ™ âŠ¢ N â¦‚ A â†’ SN (SUB (Ï„ , N) M) B</a>
<a id="6778" class="Comment">--                                â†’ SN (APP (LAM (SUB (LIFTS Ï„) M)) N) B</a>
<a id="6851" class="Comment">-- sn-APP-LAM-SUB {ğ”¹}       {M = M} ğ’Ÿ â„° (ğ’Ÿâ€² , SUB-Mâ‡“)     = app ğ’Ÿ â„° , halt-APP-LAM-SUB {M = M} SUB-Mâ‡“</a>
<a id="6953" class="Comment">-- sn-APP-LAM-SUB {Bâ‚ âŠƒ Bâ‚‚} {M = M} ğ’Ÿ â„° (ğ’Ÿâ€² , SUB-Mâ‡“ , f) = app ğ’Ÿ â„° , halt-APP-LAM-SUB {M = M} SUB-Mâ‡“ , (\ s â†’</a>
<a id="7064" class="Comment">--                                                            snpâ†¦ (red-fun-APP (red-APP-LAM-SUB {M = M})) (app (app ğ’Ÿ â„°) (derp s)) (f s))</a>


<a id="7205" class="Comment">-- -- TODO</a>
<a id="7216" class="Comment">-- mutual</a>
<a id="7226" class="Comment">--   sn-SUB : âˆ€ {g M A} â†’ {Ï„ : Terms 0 g} {Î“ : Types g} â†’ {{_ : AreVals Ï„}}</a>
<a id="7302" class="Comment">--                      â†’ SNs Ï„ Î“ â†’ Î“ âŠ¢ M â¦‚ A</a>
<a id="7348" class="Comment">--                      â†’ SN (SUB Ï„ M) A</a>
<a id="7389" class="Comment">--   sn-SUB Ïƒ (var i)    = get Ïƒ (zipâˆ‹â‚‚ i)</a>
<a id="7432" class="Comment">--   sn-SUB Ïƒ (lam  ğ’Ÿ)   = tp-SUB Ïƒ (lam ğ’Ÿ) , (LAM _ , (iv-LAM , done)) , (\ s â†’ lemâ‚ Ïƒ ğ’Ÿ s)</a>
<a id="7525" class="Comment">--   sn-SUB Ïƒ (app ğ’Ÿ â„°)  with sn-SUB Ïƒ ğ’Ÿ</a>
<a id="7566" class="Comment">--   sn-SUB Ïƒ (app ğ’Ÿ â„°)  | ğ’Ÿâ€² , (Mâ€² , SUB-Mâ¤…Mâ€²) , f = f (sn-SUB Ïƒ â„°)</a>
<a id="7635" class="Comment">--   sn-SUB Ïƒ true       = true , (TRUE , (iv-TRUE , done))</a>
<a id="7695" class="Comment">--   sn-SUB Ïƒ false      = false , (FALSE , (iv-FALSE , done))</a>
<a id="7758" class="Comment">--   sn-SUB Ïƒ (if ğ’Ÿ â„° â„±) with sn-SUB Ïƒ ğ’Ÿ</a>
<a id="7799" class="Comment">--   sn-SUB Ïƒ (if ğ’Ÿ â„° â„±) | ğ’Ÿâ€² , (Mâ€²     , (iv-Mâ€²    , SUB-Mâ¤…Mâ€²))     with tpâ¤… SUB-Mâ¤…Mâ€² ğ’Ÿâ€²</a>
<a id="7889" class="Comment">--   sn-SUB Ïƒ (if ğ’Ÿ â„° â„±) | ğ’Ÿâ€² , (LAM Mâ€³ , (iv-LAM   , SUB-Mâ¤…LAM-Mâ€³)) | ()</a>
<a id="7963" class="Comment">--   sn-SUB Ïƒ (if ğ’Ÿ â„° â„±) | ğ’Ÿâ€² , (TRUE   , (iv-TRUE  , SUB-Mâ¤…TRUE))   | true  = sn-IF-TRUE SUB-Mâ¤…TRUE ğ’Ÿâ€² (sn-SUB Ïƒ â„°) (tp-SUB Ïƒ â„±)</a>
<a id="8093" class="Comment">--   sn-SUB Ïƒ (if ğ’Ÿ â„° â„±) | ğ’Ÿâ€² , (FALSE  , (iv-FALSE , SUB-Mâ¤…FALSE))  | false = sn-IF-FALSE SUB-Mâ¤…FALSE ğ’Ÿâ€² (tp-SUB Ïƒ â„°) (sn-SUB Ïƒ â„±)</a>

<a id="8226" class="Comment">--   lemâ‚ : âˆ€ {A B g M N} â†’ {Ï„ : Terms 0 g} {Î“ : Types g} â†’ {{_ : AreVals Ï„}}</a>
<a id="8304" class="Comment">--                        â†’ SNs Ï„ Î“ â†’ Î“ , A âŠ¢ M â¦‚ B â†’ SN N A</a>
<a id="8365" class="Comment">--                        â†’ SN (APP (LAM (SUB (LIFTS Ï„) M)) N) B</a>
<a id="8430" class="Comment">--   lemâ‚ {ğ”¹}       {B} {M = M} Ïƒ ğ’Ÿ (â„° , (Nâ€² , (iv-Nâ€² , Nâ¤…Nâ€²)))     = snpâ¤… (step-APP-arg Nâ¤…Nâ€²)</a>
<a id="8525" class="Comment">--                                                                           (app (tp-SUB Ïƒ (lam ğ’Ÿ)) â„°)</a>
<a id="8629" class="Comment">--                                                                           (lemâ‚‚ {B} {ğ”¹} {M = M} {{iv-Nâ€²}}</a>
<a id="8738" class="Comment">--                                                                                 Ïƒ ğ’Ÿ (rsnpâ¤… Nâ¤…Nâ€² â„° (â„° , (Nâ€² , (iv-Nâ€² , Nâ¤…Nâ€²)))))</a>
<a id="8869" class="Comment">--   lemâ‚ {Aâ‚ âŠƒ Aâ‚‚} {B} {M = M} Ïƒ ğ’Ÿ (â„° , (Nâ€² , (iv-Nâ€² , Nâ¤…Nâ€²)) , f) = snpâ¤… (step-APP-arg Nâ¤…Nâ€²)</a>
<a id="8964" class="Comment">--                                                                           (app (tp-SUB Ïƒ (lam ğ’Ÿ)) â„°)</a>
<a id="9068" class="Comment">--                                                                           (lemâ‚‚ {B} {Aâ‚ âŠƒ Aâ‚‚} {M = M} {{iv-Nâ€²}}</a>
<a id="9183" class="Comment">--                                                                                 Ïƒ ğ’Ÿ (rsnpâ¤… Nâ¤…Nâ€² â„° (â„° , (Nâ€² , (iv-Nâ€² , Nâ¤…Nâ€²)) , f)))</a>

<a id="9319" class="Comment">--   lemâ‚‚ : âˆ€ {B A g M Nâ€²} â†’ {Ï„ : Terms 0 g} {Î“ : Types g} â†’ {{_ : IsVal Nâ€²}} {{_ : AreVals Ï„}}</a>
<a id="9415" class="Comment">--                         â†’ SNs Ï„ Î“ â†’ Î“ , A âŠ¢ M â¦‚ B â†’ SN Nâ€² A</a>
<a id="9478" class="Comment">--                         â†’ SN (APP (LAM (SUB (LIFTS Ï„) M)) Nâ€²) B</a>
<a id="9545" class="Comment">--   lemâ‚‚ {M = M} Ïƒ ğ’Ÿ sâ€² = sn-APP-LAM-SUB {M = M} (tp-SUB Ïƒ (lam ğ’Ÿ)) (derp sâ€²) (sn-SUB (Ïƒ , sâ€²) ğ’Ÿ)</a>


<a id="9646" class="Comment">-- -- TODO</a>
<a id="9657" class="Comment">-- sn : âˆ€ {M A} â†’ âˆ™ âŠ¢ M â¦‚ A</a>
<a id="9685" class="Comment">--              â†’ SN M A</a>
<a id="9710" class="Comment">-- sn {M} {A} ğ’Ÿ = subst (\ Mâ€² â†’ SN Mâ€² A) (id-SUB M) (sn-SUB âˆ™ ğ’Ÿ)</a>


<a id="9777" class="Comment">-- -- TODO</a>
<a id="9788" class="Comment">-- halt-sn : âˆ€ {A M} â†’ SN M A</a>
<a id="9818" class="Comment">--                   â†’ M â‡“</a>
<a id="9845" class="Comment">-- halt-sn {ğ”¹}     (ğ’Ÿ , Mâ‡“)     = Mâ‡“</a>
<a id="9882" class="Comment">-- halt-sn {A âŠƒ B} (ğ’Ÿ , Mâ‡“ , f) = Mâ‡“</a>


<a id="9921" class="Comment">-- -- TODO</a>
<a id="9932" class="Comment">-- halt : âˆ€ {A M} â†’ âˆ™ âŠ¢ M â¦‚ A</a>
<a id="9962" class="Comment">--                â†’ M â‡“</a>
<a id="9986" class="Comment">-- halt {A} ğ’Ÿ = halt-sn {A} (sn ğ’Ÿ)</a>


<a id="10023" class="Comment">-- --------------------------------------------------------------------------------</a>
</pre></body></html>